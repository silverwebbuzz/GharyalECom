{"version":3,"sources":["webpack:///./src/app/checkout/checkout.module.ts","webpack:///./src/app/checkout/checkout.page.html","webpack:///./src/app/checkout/checkout.page.scss","webpack:///./src/app/checkout/checkout.page.ts"],"names":[],"mappings":"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","file":"checkout-checkout-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar class=\\\"clr\\\" text-center>\\n      <ion-buttons slot=\\\"start\\\">\\n          <ion-button fill=\\\"clear\\\" (click)=\\\"back()\\\">\\n              <ion-icon name=\\\"arrow-back\\\" mode=\\\"ios\\\"></ion-icon>\\n            </ion-button>\\n      </ion-buttons>\\n      <ion-title>\\n        Checkout\\n      </ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<ion-content>\\n\\n    <ion-item lines=\\\"none\\\" class=\\\"dark clr-head\\\">\\n        <ion-label>\\n          Select Payment Methods\\n        </ion-label>\\n      </ion-item>\\n\\n      <!-- <ion-card class=\\\"card-2\\\"> -->\\n        <ion-radio-group>\\n          <ion-item lines=\\\"full\\\" *ngFor=\\\"let method of paymentMethod;\\\">\\n            <ion-label>\\n              {{method.title | titlecase}}\\n            </ion-label>\\n            <ion-radio (ionSelect)=\\\"changePaymentMothod(method.code)\\\" slot=\\\"end\\\" mode=\\\"md\\\">\\n            </ion-radio>\\n          </ion-item>\\n        </ion-radio-group>\\n      <!-- </ion-card> -->\\n\\n      <ion-item lines=\\\"none\\\" class=\\\"dark clr-head\\\">\\n          <ion-label>Order Summary</ion-label>\\n        </ion-item>\\n\\n      <ion-card class=\\\"card-1\\\">\\n        <ion-row class=\\\"spc\\\">\\n          <ion-col size=\\\"8\\\" class=\\\"spc-col\\\">Cart Subtotal</ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"spc-col1\\\">{{totals.quote_currency_code}} {{totals.subtotal}}</ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"spc\\\" *ngIf=\\\"totals.total_segments[0].code == 'rewards-total' && totals.total_segments[0].value\\\">\\n          <ion-col size=\\\"8\\\" class=\\\"spc-col1\\\">{{totals.total_segments[0].title}} :</ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"spc-col1\\\">{{totals.total_segments[0].value | number}}</ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"spc\\\" *ngIf=\\\"totals.discount_amount != 0\\\">\\n          <ion-col size=\\\"8\\\" class=\\\"spc-col\\\">Discount</ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"spc-col1\\\">{{totals.discount_amount}}</ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"spc\\\">\\n          <ion-col size=\\\"8\\\" class=\\\"spc-col\\\">Shipping</ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"spc-col1\\\">{{totals.quote_currency_code}} {{totals.shipping_amount}}</ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"spc flat-label\\\">Flat Rate - Fixed</ion-row>\\n      </ion-card>\\n    \\n      <ion-item lines=\\\"none\\\" class=\\\"dark\\\">\\n        <ion-label>Order Total</ion-label>\\n        <ion-label style=\\\"text-align: right;\\\">{{totals.quote_currency_code}} {{totals.grand_total}}</ion-label>\\n      </ion-item>\\n    \\n      <ion-item lines=\\\"none\\\" class=\\\"dark clr-head\\\">\\n        <ion-label>{{totals.items_qty}} Items in Cart</ion-label>\\n      </ion-item>\\n\\n        <ion-card class=\\\"card-2\\\">\\n          <ion-row *ngFor=\\\"let item of totals.items\\\">\\n            <!-- <ion-col size=\\\"4\\\"><img src=\\\"../../assets/img/manwatch.jpg\\\" class=\\\"pic\\\" /></ion-col> -->\\n            <ion-col size=\\\"12\\\">\\n              <ion-row>\\n                <ion-col size=\\\"12\\\">\\n                  <ion-text><b>{{item.name}}</b></ion-text>\\n                </ion-col>\\n              </ion-row>\\n              <ion-row class=\\\"amount\\\">\\n                <ion-text color=\\\"primary\\\" class=\\\"final-price\\\">{{totals.quote_currency_code}} {{item.row_total}}</ion-text>\\n              </ion-row>\\n              <ion-text class=\\\"txt-qty\\\">Qty : {{item.qty}}</ion-text>\\n            </ion-col>\\n          </ion-row>\\n        </ion-card>\\n\\n        <ion-item lines=\\\"none\\\" class=\\\"dark clr-head\\\">\\n          <ion-label>Ship To :</ion-label>\\n        </ion-item>\\n\\n        <ion-card class=\\\"card-1\\\">\\n          <ion-row class=\\\"spc\\\"><b>{{shippingAddress.firstname}} {{shippingAddress.lastname}}</b> </ion-row>\\n          <ion-row class=\\\"spc\\\">{{shippingAddress.street.join(', ')}} ,{{shippingAddress.city}},\\n              {{shippingAddress.region.region}}, {{shippingAddress.postcode}}</ion-row>\\n          <ion-row class=\\\"spc\\\">{{shippingAddress.country_id}}</ion-row>\\n          <ion-row class=\\\"spc\\\"><span><b>T: </b></span> {{shippingAddress.telephone}}</ion-row>\\n        </ion-card>\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-button expand=\\\"full\\\" size=\\\"large\\\" class=\\\"next\\\" (click)=\\\"summary()\\\">\\n    PLACE ORDER\\n  </ion-button>\\n</ion-footer>\\n\"","module.exports = \".spc-col {\\n  padding: 0px; }\\n\\n.spc-col1 {\\n  padding: 0px;\\n  font-weight: bold;\\n  font-size: 13px; }\\n\\n.flat-label {\\n  padding: 0px 0px 0px 5px;\\n  color: grey; }\\n\\n.pic {\\n  height: 100px;\\n  width: 100px;\\n  object-fit: cover; }\\n\\n.amount {\\n  padding: 5px;\\n  color: #CEAD65; }\\n\\n.final-price {\\n  color: #CEAD65;\\n  font-weight: bold; }\\n\\n.txt-qty {\\n  --padding-start: 0px !important;\\n  --padding-end: 0px !important;\\n  height: 25px !important;\\n  margin: 0px;\\n  width: 30px;\\n  padding: 0px 5px;\\n  color: black; }\\n\\n.clr-head {\\n  --background: #f1f1f1;\\n  color: #000; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zaWx2ZXJ3ZWJidXp6L0RvY3VtZW50cy9NRC9pb25pY1Byb2plY3QvZ2hhcnlhbC1lY29tbWVyY2UtYXBwL3NyYy9hcHAvY2hlY2tvdXQvY2hlY2tvdXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0EsWUFBWSxFQUFBOztBQUVaO0VBQ0EsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixlQUFlLEVBQUE7O0FBRWY7RUFDSSx3QkFBd0I7RUFDeEIsV0FBVyxFQUFBOztBQUVmO0VBQ0ksYUFBYTtFQUNiLFlBQVk7RUFDWixpQkFBaUIsRUFBQTs7QUFHckI7RUFDSSxZQUFZO0VBQ1osY0FBYyxFQUFBOztBQUVsQjtFQUNJLGNBQWM7RUFDZCxpQkFBaUIsRUFBQTs7QUFFckI7RUFDSSwrQkFBZ0I7RUFDaEIsNkJBQWM7RUFDZCx1QkFBdUI7RUFDdkIsV0FBVTtFQUNWLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsWUFBWSxFQUFBOztBQUVoQjtFQUNJLHFCQUFhO0VBQ2IsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvY2hlY2tvdXQvY2hlY2tvdXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNwYy1jb2x7XG5wYWRkaW5nOiAwcHg7XG59XG4uc3BjLWNvbDF7XG5wYWRkaW5nOiAwcHg7XG5mb250LXdlaWdodDogYm9sZDtcbmZvbnQtc2l6ZTogMTNweDtcbn1cbi5mbGF0LWxhYmVse1xuICAgIHBhZGRpbmc6IDBweCAwcHggMHB4IDVweDtcbiAgICBjb2xvcjogZ3JleTtcbn1cbi5waWN7XG4gICAgaGVpZ2h0OiAxMDBweDsgXG4gICAgd2lkdGg6IDEwMHB4O1xuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xufVxuXG4uYW1vdW50e1xuICAgIHBhZGRpbmc6IDVweDsgXG4gICAgY29sb3I6ICNDRUFENjU7XG59XG4uZmluYWwtcHJpY2V7XG4gICAgY29sb3I6ICNDRUFENjU7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4udHh0LXF0eXtcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDBweCAhaW1wb3J0YW50O1xuICAgIC0tcGFkZGluZy1lbmQ6IDBweCAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogMjVweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjowcHg7XG4gICAgd2lkdGg6IDMwcHg7XG4gICAgcGFkZGluZzogMHB4IDVweDsgXG4gICAgY29sb3I6IGJsYWNrO1xufVxuLmNsci1oZWFke1xuICAgIC0tYmFja2dyb3VuZDogI2YxZjFmMTtcbiAgICBjb2xvcjogIzAwMDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { RestService } from '../api/rest.service';\nimport { MagentoServiceService } from '../api/magento-service.service';\nimport { CartService } from '../api/cart.service';\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\nexport class CheckoutPage implements OnInit {\n\n  paymentMethod: any;\n  totals:any;\n  shippingAddress: any;\n  selectedPaymentMethod:any = '';\n  constructor(private router: Router,\n    private route: ActivatedRoute,\n    private navCtrl: NavController,\n    private rest: RestService,\n    private service: MagentoServiceService,\n    private cart:CartService,\n    private statusBar: StatusBar) { \n\n      this.route.queryParams.subscribe(params => {\n        if (params) {\n          let dataparams = JSON.parse(params.paymentMethod);\n          this.shippingAddress = JSON.parse(params.shipping_address);\n          console.log('data:',dataparams);\n          this.paymentMethod = dataparams.payment_methods;\n          this.totals = dataparams.totals;\n          if(this.rest.isLoading){\n            this.rest.dismissLoading();\n          }\n        }else{\n          this.router.navigate(['/billing']);\n        }\n      });\n\n    }\n\n    ngOnInit() {\n      \n    }\n    ionViewWillEnter() {\n      this.statusBar.styleLightContent();\n      this.statusBar.backgroundColorByHexString('#5d5e5e');\n    }\n\n  summary(){\n    if(this.selectedPaymentMethod == ''){\n      this.rest.presentToastWithOptions('Please Select Payment Method.');\n      return false;\n    }\n    this.rest.presentLoading();\n    const cartId = this.cart.cartId;\n    var body = {\n      paymentMethod:{\n        method: this.selectedPaymentMethod\n      }\n    };\n    this.service.createOrder(cartId,body).subscribe(val =>{\n      console.log('create Order Val:', val);\n      window.localStorage.removeItem('cartId');\n      window.localStorage.removeItem('cartItems');\n      let navigationExtras: NavigationExtras = {\n        queryParams: {\n          OrderId: JSON.stringify(val)\n        }\n      };\n      this.router.navigate(['/summary'],navigationExtras);\n    },err=>{\n      if(this.rest.isLoading){\n        this.rest.dismissLoading();\n      }\n      if(err.status == 404){\n        this.rest.presentToastWithOptions('Your Cart is empty.');\n        this.router.navigate(['/tabs/mycart']);\n      }else{\n        this.rest.presentToastWithOptions(err.error.message);\n      }\n      console.log('Order Creating Err:',err);\n    })\n    //this.router.navigate(['/summary']);\n  }\n\n  changePaymentMothod(value){\n    this.selectedPaymentMethod = value;\n  }\n\n  back(){\n    \n    this.navCtrl.navigateBack(['/billing']);\n  }\n\n}\n"],"sourceRoot":""}