(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('rxjs'), require('@angular/animations'), require('@angular/platform-browser'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('angular2-collapsible', ['exports', '@angular/core', 'rxjs', '@angular/animations', '@angular/platform-browser', '@angular/common'], factory) :
    (factory((global['angular2-collapsible'] = {}),global.ng.core,global.rxjs,global.ng.animations,global.ng.platformBrowser,global.ng.common));
}(this, (function (exports,core,rxjs,animations,platformBrowser,common) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleService = /** @class */ (function () {
        function CollapsibleService() {
            this.headers = new Array();
            this.bodies = new Array();
        }
        /**
         * @return {?}
         */
        CollapsibleService.prototype.getType = /**
         * @return {?}
         */
            function () {
                return this.type;
            };
        /**
         * @param {?} type
         * @return {?}
         */
        CollapsibleService.prototype.setType = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                this.type = type;
            };
        /**
         * @return {?}
         */
        CollapsibleService.prototype.getCollapsibleTable = /**
         * @return {?}
         */
            function () {
                return this.collapsibleTable;
            };
        /**
         * @param {?} table
         * @return {?}
         */
        CollapsibleService.prototype.setCollapsibleTable = /**
         * @param {?} table
         * @return {?}
         */
            function (table) {
                this.collapsibleTable = table;
            };
        /**
         * @param {?} header
         * @return {?}
         */
        CollapsibleService.prototype.addListHeader = /**
         * @param {?} header
         * @return {?}
         */
            function (header) {
                this.headers.push(header);
            };
        /**
         * @param {?} body
         * @return {?}
         */
        CollapsibleService.prototype.addListBody = /**
         * @param {?} body
         * @return {?}
         */
            function (body) {
                this.bodies.push(body);
            };
        /**
         * @return {?}
         */
        CollapsibleService.prototype.collapseAll = /**
         * @return {?}
         */
            function () {
                this.bodies.forEach(function (collapsibleBodyComponent) {
                    // set 'expanded' properties of all the CollapsibleBodyComponents to 'false'
                    collapsibleBodyComponent.expanded = false;
                    collapsibleBodyComponent.expandedState = collapsibleBodyComponent.expanded.toString();
                    // emit 'toggleState' event for all the CollapsibleBodyComponents
                    collapsibleBodyComponent.toggleState.emit(false);
                });
            };
        CollapsibleService.decorators = [
            { type: core.Injectable }
        ];
        return CollapsibleService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleEvent = /** @class */ (function () {
        function CollapsibleEvent() {
        }
        return CollapsibleEvent;
    }());
    var CollapsibleEventService = /** @class */ (function () {
        function CollapsibleEventService() {
            this.toggleCollapsibleItemSource = new rxjs.Subject();
            // Observable string streams
            this.toggleCollapsibleItem$ = this.toggleCollapsibleItemSource.asObservable();
        }
        // Toggle collapsible item
        /**
         * @param {?=} event
         * @return {?}
         */
        CollapsibleEventService.prototype.toggleCollapsibleItem = /**
         * @param {?=} event
         * @return {?}
         */
            function (event) {
                this.toggleCollapsibleItemSource.next(event);
            };
        /**
         * @return {?}
         */
        CollapsibleEventService.prototype.unsubscribe = /**
         * @return {?}
         */
            function () {
                this.toggleCollapsibleItemSource.unsubscribe();
            };
        CollapsibleEventService.decorators = [
            { type: core.Injectable }
        ];
        return CollapsibleEventService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleAnimationsService = /** @class */ (function () {
        function CollapsibleAnimationsService() {
        }
        /**
         * @param {?} triggerName
         * @return {?}
         */
        CollapsibleAnimationsService.collapsibleBodyAnimations = /**
         * @param {?} triggerName
         * @return {?}
         */
            function (triggerName) {
                return [
                    animations.trigger(triggerName, [
                        animations.state('*', animations.style({
                            height: 0,
                            paddingTop: 0,
                            paddingBottom: 0,
                            borderBottom: 'none',
                            boxShadow: 'none',
                            overflow: 'hidden'
                        })),
                        animations.state('true', animations.style({
                            boxShadow: 'inset 0 4px 4px -2px rgb(208, 208, 208), inset 0 -3px 2px -1px rgb(208, 208, 208)',
                            overflow: 'inherit'
                        })),
                        animations.transition('* => true', animations.animate(CollapsibleAnimationsService.collapsibleBodyAnimationDuration + ' ' +
                            CollapsibleAnimationsService.easeInQuad)),
                        animations.transition('* => false', animations.animate(CollapsibleAnimationsService.collapsibleBodyAnimationDuration + ' ' +
                            CollapsibleAnimationsService.easeOutQuad))
                    ])
                ];
            };
        CollapsibleAnimationsService.collapsibleBodyAnimationDuration = '0.2s';
        CollapsibleAnimationsService.easeInQuad = 'cubic-bezier(0.55, 0.085, 0.68, 0.53)';
        CollapsibleAnimationsService.easeOutQuad = 'cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        CollapsibleAnimationsService.collapsibleTableRowAnimationDuration = '0.2s';
        CollapsibleAnimationsService.decorators = [
            { type: core.Injectable }
        ];
        return CollapsibleAnimationsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleBodyComponent = /** @class */ (function () {
        function CollapsibleBodyComponent(el, collapsibleService, eventService) {
            this.el = el;
            this.collapsibleService = collapsibleService;
            this.eventService = eventService;
            this.toggleState = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        CollapsibleBodyComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.eventService.toggleCollapsibleItem$.subscribe(function () {
                    _this.toggleCollapsibleItem();
                });
            };
        /**
         * @return {?}
         */
        CollapsibleBodyComponent.prototype.hasContent = /**
         * @return {?}
         */
            function () {
                var e_1, _a;
                try {
                    for (var _b = __values(this.el.nativeElement.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var child = _c.value;
                        if (( /** @type {?} */(child)).tagName != null) {
                            return true;
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return))
                            _a.call(_b);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return false;
            };
        /**
         * @return {?}
         */
        CollapsibleBodyComponent.prototype.toggleCollapsibleItem = /**
         * @return {?}
         */
            function () {
                // toggle body's state only if it has any childs
                if (this.hasContent()) {
                    if (this.collapsibleService.getType() === 'accordion') {
                        /** @type {?} */
                        var tempExpanded = this.expanded;
                        this.collapsibleService.collapseAll();
                        this.expanded = tempExpanded;
                    }
                    this.expanded = !this.expanded;
                    this.expandedState = this.expanded.toString();
                    // emit 'toggleState' event
                    this.toggleState.emit(this.expanded);
                }
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        CollapsibleBodyComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                var e_2, _a;
                if (this.hasContent()) {
                    try {
                        for (var _b = __values(Object.keys(changes)), _c = _b.next(); !_c.done; _c = _b.next()) {
                            var key = _c.value;
                            if (key === 'expanded' &&
                                changes["expanded"].currentValue != null) {
                                // this.expanded = changes.expanded.currentValue;
                                this.expandedState = this.expanded.toString();
                            }
                        }
                    }
                    catch (e_2_1) {
                        e_2 = { error: e_2_1 };
                    }
                    finally {
                        try {
                            if (_c && !_c.done && (_a = _b.return))
                                _a.call(_b);
                        }
                        finally {
                            if (e_2)
                                throw e_2.error;
                        }
                    }
                }
            };
        // Makes sure we don't have a memory leak by destroying the
        // Subscription when our component is destroyed
        /**
         * @return {?}
         */
        CollapsibleBodyComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.eventService.unsubscribe();
            };
        CollapsibleBodyComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-body',
                        template: "<ng-content></ng-content>",
                        animations: CollapsibleAnimationsService.collapsibleBodyAnimations('collapsibleBodyState'),
                        styles: ["\n        :host {\n            display: block;\n            border-bottom: 1px solid #ddd;\n            box-sizing: border-box;\n            padding: 2rem;\n        }\n\n        .side-nav :host {\n            padding: 0;\n        }\n\n        .side-nav :host,\n        .side-nav.fixed :host {\n            border: 0;\n            background-color: #fff;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleBodyComponent.ctorParameters = function () {
            return [
                { type: core.ElementRef },
                { type: CollapsibleService },
                { type: CollapsibleEventService }
            ];
        };
        CollapsibleBodyComponent.propDecorators = {
            expandedState: [{ type: core.HostBinding, args: ['@collapsibleBodyState',] }],
            expanded: [{ type: core.Input }],
            toggleState: [{ type: core.Output }]
        };
        return CollapsibleBodyComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleListItemComponent = /** @class */ (function () {
        function CollapsibleListItemComponent(collapsibleService) {
            this.collapsibleService = collapsibleService;
        }
        /**
         * @return {?}
         */
        CollapsibleListItemComponent.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // store list bodies in 'CollapsibleService'
                this.contentListBodies.forEach(function (item) {
                    _this.collapsibleService.addListBody(item);
                });
            };
        CollapsibleListItemComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-list-item',
                        template: "\n        <ng-content select=\"collapsible-header\"></ng-content>\n        <ng-content select=\"collapsible-body\"></ng-content>\n    ",
                        providers: [CollapsibleEventService]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleListItemComponent.ctorParameters = function () {
            return [
                { type: CollapsibleService }
            ];
        };
        CollapsibleListItemComponent.propDecorators = {
            contentListBodies: [{ type: core.ContentChildren, args: [CollapsibleBodyComponent,] }]
        };
        return CollapsibleListItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleListComponent = /** @class */ (function () {
        function CollapsibleListComponent(collapsibleService) {
            this.collapsibleService = collapsibleService;
            // component options
            //
            // describes the type of the collapsible list: 'accordion' or 'expandable'
            this.type = 'accordion';
        }
        /**
         * @return {?}
         */
        CollapsibleListComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.collapsibleService.setType(this.type);
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        CollapsibleListComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                for (var change in changes) {
                    if (change === 'type') {
                        this.type = changes["type"].currentValue;
                        this.collapsibleService.setType(this.type);
                    }
                }
            };
        CollapsibleListComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-list',
                        template: "<ng-content select=\"collapsible-list-item\"></ng-content>",
                        providers: [CollapsibleService],
                        styles: ["\n    :host {\n      display: block;\n      margin: 0.5rem 0 1rem 0;\n      border-top: 1px solid #ddd;\n      border-right: 1px solid #ddd;\n      border-left: 1px solid #ddd;\n      box-shadow:\n        0 2px 2px 0 rgba(0, 0, 0, 0.14),\n        0 1px 5px 0 rgba(0, 0, 0, 0.12),\n        0 3px 1px -2px rgba(0, 0, 0, 0.2);\n    }\n\n    .side-nav :host,\n    .side-nav.fixed :host {\n      border: none;\n      box-shadow: none;\n    }\n\n    :host(.popout) {\n      border: none;\n      box-shadow: none;\n    }\n\n    :host(.popout) > li {\n      box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n      margin: 0 24px;\n      transition: margin 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n    }\n\n    .side-nav :host {\n      margin: 0;\n    }\n  "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleListComponent.ctorParameters = function () {
            return [
                { type: CollapsibleService }
            ];
        };
        CollapsibleListComponent.propDecorators = {
            type: [{ type: core.Input }],
            contentListItems: [{ type: core.ContentChildren, args: [CollapsibleListItemComponent,] }]
        };
        return CollapsibleListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleHeaderComponent = /** @class */ (function () {
        function CollapsibleHeaderComponent(eventService) {
            this.eventService = eventService;
        }
        /**
         * @return {?}
         */
        CollapsibleHeaderComponent.prototype.click = /**
         * @return {?}
         */
            function () {
                this.eventService.toggleCollapsibleItem();
            };
        CollapsibleHeaderComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-header',
                        template: "<ng-content></ng-content>",
                        styles: ["\n        :host {\n            display: block;\n            cursor: pointer;\n            min-height: 3rem;\n            line-height: 3rem;\n            padding: 0 1rem;\n            background-color: #fff;\n            border-bottom: 1px solid #ddd;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleHeaderComponent.ctorParameters = function () {
            return [
                { type: CollapsibleEventService }
            ];
        };
        CollapsibleHeaderComponent.propDecorators = {
            click: [{ type: core.HostListener, args: ['click',] }]
        };
        return CollapsibleHeaderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleTableRowComponent = /** @class */ (function () {
        function CollapsibleTableRowComponent(el, sanitizer, collapsibleService) {
            this.el = el;
            this.sanitizer = sanitizer;
            this.collapsibleService = collapsibleService;
            this.backgroundTransitionDuration = '0.3s';
            // transition-timing-function: easeInQuad
            this.backgroundTransitionTimingFunction = this.sanitizer
                .bypassSecurityTrustStyle(CollapsibleTableRowComponent.EASE_OUT_QUAD);
            this.isHeadRow = false;
            this.isBodyRow = false;
            this.isOddRow = false;
            this.isEvenRow = false;
            this.isParentStriped = false;
            this.isParentHighlight = false;
            this.parentAllowsSelect = false;
            this.parentAllowsSelectMultipleRows = false;
            this.parentAllowsDeselectingRows = false;
            this.dragSelection = false;
        }
        /**
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var elem = this.el.nativeElement;
                /** @type {?} */
                var tbody = elem.parentElement;
                if (tbody.tagName === 'TBODY') {
                    /** @type {?} */
                    var collapsibleTableRows = tbody.querySelectorAll('collapsible-table-row');
                    for (var i = 0; i < collapsibleTableRows.length; i++) {
                        /** @type {?} */
                        var collapsibleTableRow = collapsibleTableRows[i];
                        if (collapsibleTableRow === elem) {
                            this.index = i + 1;
                            break;
                        }
                    }
                }
                // retrieve parent CollapsibleTableComponent through the CollapsibleService
                this.parentCollapsibleTable = this.collapsibleService.getCollapsibleTable();
                if (this.parentCollapsibleTable != null) {
                    // check if collapsible-table is marked to show striped table
                    this.isParentStriped = this.parentCollapsibleTable.striped;
                    // check if collapsible-table is marked to highlight current row
                    this.isParentHighlight = this.parentCollapsibleTable.highlight;
                    this.parentHighlightRowBackgroundColor = this.parentCollapsibleTable.highlightColor ||
                        CollapsibleTableRowComponent.DEFAULT_HIGHLIGHT_ROW_COLOR;
                    this.parentHighlightRowTextColor = this.parentCollapsibleTable.highlightTextColor ||
                        CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    // check if collapsible-table specifies the active row color
                    this.activeRowBackgroundColor = this.parentCollapsibleTable.activeColor ||
                        CollapsibleTableRowComponent.DEFAULT_ACTIVE_ROW_COLOR;
                    this.activeRowTextColor = this.parentCollapsibleTable.activeTextColor ||
                        CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    // check if collapsible-table allows selecting rows
                    this.parentAllowsSelect = this.parentCollapsibleTable.select;
                    this.parentAllowsSelectMultipleRows = this.parentCollapsibleTable.selectMultipleRows;
                    // check if collapsible-table specifies a color for the selected row
                    this.selectedRowBackgroundColor = this.parentCollapsibleTable.selectColor ||
                        CollapsibleTableRowComponent.DEFAULT_SELECTED_ROW_COLOR;
                    this.selectedRowTextColor = this.parentCollapsibleTable.selectTextColor ||
                        CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    // check if collapsible-table allows to deselect rows
                    this.parentAllowsDeselectingRows = this.parentCollapsibleTable.allowDeselectingRows != null ?
                        this.parentCollapsibleTable.allowDeselectingRows : false;
                }
            };
        /**
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                this.updateRow();
            };
        /**
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.updateRow = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var elem = this.el.nativeElement;
                /** @type {?} */
                var th = elem.querySelector('th');
                if (th != null) {
                    this.isHeadRow = true;
                }
                /** @type {?} */
                var td = elem.querySelector('td');
                if (td != null) {
                    this.isBodyRow = true;
                    // determine if the row is 'odd' or 'event'
                    if (this.index % 2 === 0) {
                        this.isEvenRow = true;
                        this.parentStripedRowBackgroundColor = this.parentCollapsibleTable.stripedEvenColor ||
                            CollapsibleTableRowComponent.DEFAULT_STRIPED_EVEN_ROW_COLOR;
                        this.parentStripedRowTextColor = this.parentCollapsibleTable.stripedEvenTextColor ||
                            CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    }
                    else {
                        this.isOddRow = true;
                        this.parentStripedRowBackgroundColor = this.parentCollapsibleTable.stripedOddColor ||
                            CollapsibleTableRowComponent.DEFAULT_STRIPED_ODD_ROW_COLOR;
                        this.parentStripedRowTextColor = this.parentCollapsibleTable.stripedOddTextColor ||
                            CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    }
                    switch (true) {
                        case this.parentAllowsSelect && this.selected:
                            this.rowBackgroundColor = this.selectedRowBackgroundColor;
                            this.rowTextColor = this.selectedRowTextColor;
                            break;
                        case this.isParentStriped:
                            this.rowBackgroundColor = this.parentStripedRowBackgroundColor;
                            this.rowTextColor = this.parentStripedRowTextColor;
                            break;
                    }
                }
            };
        /**
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.getHeight = /**
         * @return {?}
         */
            function () {
                return this.el.nativeElement.offsetHeight;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.isLeftMouseButton = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var button = event.button;
                /** @type {?} */
                var which = event['which'];
                /** @type {?} */
                var target = /** @type {?} */ ((event.target || event.srcElement || event.currentTarget));
                if (['TR', 'TD'].indexOf(target.tagName) > -1) {
                    if ('button' in event) {
                        return button === 0;
                    }
                    else {
                        return (which || button) === 1;
                    }
                }
                return false;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.mousedown = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // handle only if the Left mouse button pressed
                // and the row is a body row
                if (this.isLeftMouseButton(event) && this.isBodyRow) {
                    if (this.parentCollapsibleTable.noTextSelect) {
                        event.preventDefault();
                    }
                    if (this.isBodyRow) {
                        if (this.parentAllowsSelect && !this.parentAllowsDeselectingRows) {
                            this.prevSelectedRows = this.parentCollapsibleTable.selectedRows;
                            this.parentCollapsibleTable.clearSelectedRows();
                            this.parentCollapsibleTable.deselectAllRows();
                        }
                        this.rowBackgroundColor = this.activeRowBackgroundColor;
                        this.rowTextColor = this.activeRowTextColor;
                    }
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.mouseup = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // handle only if the Left mouse button pressed
                // and the row is a body row
                if (this.isLeftMouseButton(event) && this.isBodyRow) {
                    // handle selection
                    if (this.parentAllowsSelect) {
                        if (!this.parentAllowsDeselectingRows) {
                            this.parentCollapsibleTable.selectRow(this.index);
                        }
                        else {
                            if (!this.dragSelection) {
                                this.parentCollapsibleTable.toggleRowSelection(this.index);
                            }
                        }
                    }
                    // check row state
                    this.parentCollapsibleTable.updateTable();
                    /*switch (true) {
                                    // parent allows selecting rows and the row is selected
                                    case this.parentAllowsSelect && this.selected:
                                        this.rowBackgroundColor = this.selectedRowBackgroundColor;
                                        this.rowTextColor = this.selectedRowTextColor;
                                        this.parentCollapsibleTable.updateTable();
                                        break;
                                    // highlighted
                                    case this.isParentHighlight:
                                        this.rowBackgroundColor = this.parentHighlightRowBackgroundColor;
                                        this.rowTextColor = this.parentHighlightRowTextColor;
                                        break;
                                    // striped
                                    case this.isParentStriped:
                                        this.rowBackgroundColor = this.parentStripedRowBackgroundColor;
                                        this.rowTextColor = this.parentStripedRowTextColor;
                                        break;
                                    default:
                                        this.rowBackgroundColor = undefined;
                                        this.rowTextColor = undefined;
                                        break;
                                }*/
                    // select multiple rows using the 'Shift' key
                    if (this.parentAllowsSelect &&
                        this.parentAllowsSelectMultipleRows &&
                        event != null && event.shiftKey) {
                        if (this.prevSelectedRows != null &&
                            this.prevSelectedRows.length > 0 &&
                            this.parentCollapsibleTable.selectedRows.length > 0) {
                            /** @type {?} */
                            var rangeSelectedRows = this.prevSelectedRows.concat(this.parentCollapsibleTable.selectedRows);
                            rangeSelectedRows.sort(function (a, b) { return a - b; });
                            /** @type {?} */
                            var firstRowIndex = Math.min.apply(null, rangeSelectedRows);
                            /** @type {?} */
                            var lastRowIndex = Math.max.apply(null, rangeSelectedRows);
                            this.parentCollapsibleTable.selectRows(firstRowIndex, lastRowIndex);
                        }
                    }
                    // set dragSelection flag to false. Prevents selection drag behavior
                    this.dragSelection = false;
                    // focus the collapsible table
                    this.parentCollapsibleTable.focus();
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.mouseenter = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // handle only if the row is a body row
                if (this.isBodyRow) {
                    switch (true) {
                        // the use is trying to select multiple rows by holding a mouse button
                        case this.parentAllowsSelect && this.parentAllowsSelectMultipleRows && this.parentCollapsibleTable.mouseDownHold:
                            this.parentCollapsibleTable.selectRow(this.index);
                            this.dragSelection = true;
                            break;
                        // parent allows selecting rows and the row is selected
                        case this.parentAllowsSelect && this.selected:
                            break;
                        // highlighted
                        case this.isParentHighlight:
                            this.rowBackgroundColor = this.parentHighlightRowBackgroundColor;
                            this.rowTextColor = this.parentHighlightRowTextColor;
                            break;
                    }
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.mouseleave = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // handle only if the row is a body row
                if (this.isBodyRow) {
                    // check row state
                    switch (true) {
                        // the use is trying to select multiple rows by holding a mouse button
                        case this.parentAllowsSelect && this.parentAllowsSelectMultipleRows && this.parentCollapsibleTable.mouseDownHold:
                            this.parentCollapsibleTable.selectRow(this.index);
                            this.dragSelection = false;
                            break;
                        // parent allows selecting rows and the row is selected
                        case this.parentAllowsSelect && this.selected:
                            break;
                        // stripped
                        case this.isParentStriped:
                            this.rowBackgroundColor = this.parentStripedRowBackgroundColor;
                            this.rowTextColor = this.parentStripedRowTextColor;
                            break;
                        default:
                            this.rowBackgroundColor = undefined;
                            this.rowTextColor = undefined;
                            break;
                    }
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableRowComponent.prototype.click = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.detail != null) {
                    /** @type {?} */
                    var target = /** @type {?} */ ((event.target || event.srcElement || event.currentTarget));
                    if (target != null && ['TR', 'TD'].indexOf(target.tagName) > -1) {
                        this.detail.subject.next();
                    }
                }
            };
        CollapsibleTableRowComponent.EASE_OUT_QUAD = 'cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        CollapsibleTableRowComponent.DEFAULT_STRIPED_ODD_ROW_COLOR = 'rgba(242,242,242,0.8)';
        CollapsibleTableRowComponent.DEFAULT_STRIPED_EVEN_ROW_COLOR = 'transparent';
        CollapsibleTableRowComponent.DEFAULT_HIGHLIGHT_ROW_COLOR = 'rgba(222,222,222, 0.8)';
        CollapsibleTableRowComponent.DEFAULT_ACTIVE_ROW_COLOR = 'rgba(212,212,212, 0.8)';
        CollapsibleTableRowComponent.DEFAULT_SELECTED_ROW_COLOR = 'rgba(212,212,212, 0.8)';
        CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR = 'black';
        CollapsibleTableRowComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-table-row',
                        template: "<ng-content></ng-content>",
                        styles: ["\n        :host {\n            display: table-row;\n            transition-property: background-color, color;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleTableRowComponent.ctorParameters = function () {
            return [
                { type: core.ElementRef },
                { type: platformBrowser.DomSanitizer },
                { type: CollapsibleService }
            ];
        };
        CollapsibleTableRowComponent.propDecorators = {
            detail: [{ type: core.Input }],
            rowTextColor: [{ type: core.HostBinding, args: ['style.color',] }],
            rowBackgroundColor: [{ type: core.HostBinding, args: ['style.background-color',] }],
            backgroundTransitionDuration: [{ type: core.HostBinding, args: ['style.transition-duration',] }],
            backgroundTransitionTimingFunction: [{ type: core.HostBinding, args: ['style.transition-timing-function',] }],
            selected: [{ type: core.HostBinding, args: ['class.selected',] }],
            mousedown: [{ type: core.HostListener, args: ['mousedown', ['$event'],] }],
            mouseup: [{ type: core.HostListener, args: ['mouseup', ['$event'],] }],
            mouseenter: [{ type: core.HostListener, args: ['mouseenter', ['$event'],] }],
            mouseleave: [{ type: core.HostListener, args: ['mouseleave', ['$event'],] }],
            click: [{ type: core.HostListener, args: ['click', ['$event'],] }]
        };
        return CollapsibleTableRowComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleTableComponent = /** @class */ (function () {
        function CollapsibleTableComponent(el, collapsibleService) {
            this.el = el;
            this.collapsibleService = collapsibleService;
            // allows navigation between table rows using arrow keys
            this.allowKeyboardNavigation = true;
            this.fixedTableHeight = 'auto';
            this.tabindex = 0;
            this.selectedRows = [];
            // specifies collapsible type. Can be either 'accordion' or 'expandable'
            this.type = 'accordion';
            this.mouseDownHold = false;
        }
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                // this.updateFixedTableHeight();
                /*
                        LOG(`CollapsibleTableComponent::ngOnInit()\n` +
                            `this = {\n` +
                            `bordered = ${this.bordered}\n` +
                            `borderedHorizontally = ${this.borderedHorizontally}\n` +
                            `borderedVertically = ${this.borderedVertically}\n` +
                            `striped = ${this.striped}\n` +
                            `stripedOddColor = ${this.stripedOddColor}\n` +
                            `stripedEvenColor = ${this.stripedEvenColor}\n` +
                            `highlight = ${this.highlight}\n` +
                            `highlightColor = ${this.highlightColor}\n` +
                            `highlightTextColor = ${this.highlightTextColor}\n` +
                            `activeColor = ${this.activeColor}\n` +
                            `activeTextColor = ${this.activeTextColor}\n` +
                            `centered = ${this.centered}\n` +
                            `responsive = ${this.responsive}\n` +
                            `select = ${this.select}\n` +
                            `selectColor = ${this.selectColor}\n` +
                            `selectTextColor = ${this.selectTextColor}\n` +
                            `selectMultipleRows = ${this.selectMultipleRows}\n` +
                            `noTextSelect = ${this.noTextSelect}\n` +
                            `}`);
                            */
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        CollapsibleTableComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                for (var change in changes) {
                    if (changes.hasOwnProperty(change)) {
                        if (this.collapsibleTableRows != null) {
                            switch (change) {
                                case 'striped':
                                case 'stripedOddColor':
                                case 'stripedOddTextColor':
                                case 'stripedEvenColor':
                                case 'stripedEvenTextColor':
                                    this.updateTable('striped');
                                    break;
                                case 'highlight':
                                case 'highlightColor':
                                case 'highlightTextColor':
                                    this.updateTable('highlight');
                                    break;
                                case 'activeColor':
                                case 'activeTextColor':
                                    this.updateTable('active');
                                    break;
                                case 'select':
                                case 'selectColor':
                                case 'selectTextColor':
                                case 'selectMultipleRows':
                                case 'allowDeselectingRows':
                                    this.updateTable('select');
                                    break;
                            }
                        }
                        // update collapsible table type in CollapsibleService
                        if (change === 'type') {
                            this.type = changes["type"].currentValue;
                            this.collapsibleService.setType(this.type);
                        }
                    }
                }
                this.collapsibleService.setCollapsibleTable(this);
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.focus = /**
         * @return {?}
         */
            function () {
                this.el.nativeElement.focus();
            };
        /**
         * @param {?} index
         * @return {?}
         */
        CollapsibleTableComponent.prototype.addSelectedRow = /**
         * @param {?} index
         * @return {?}
         */
            function (index) {
                switch (true) {
                    case this.selectMultipleRows && this.selectedRows.indexOf(index) === -1:
                        this.selectedRows.push(index);
                        this.selectedRows.sort(function (a, b) { return a - b; });
                        break;
                    case !this.selectMultipleRows:
                        this.selectedRows = [];
                        this.deselectAllRows();
                        this.selectedRows.push(index);
                        this.selectedRows.sort(function (a, b) { return a - b; });
                        break;
                }
            };
        /**
         * @param {?} index
         * @return {?}
         */
        CollapsibleTableComponent.prototype.removeSelectedRow = /**
         * @param {?} index
         * @return {?}
         */
            function (index) {
                if (this.selectedRows.indexOf(index) !== -1) {
                    this.selectedRows.splice(this.selectedRows.indexOf(index), 1);
                }
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.clearSelectedRows = /**
         * @return {?}
         */
            function () {
                this.selectedRows = [];
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.deselectAllRows = /**
         * @return {?}
         */
            function () {
                this.collapsibleTableRows.forEach(function (row) {
                    row.selected = false;
                    row.updateRow();
                });
            };
        /**
         * @param {?} index
         * @return {?}
         */
        CollapsibleTableComponent.prototype.selectRow = /**
         * @param {?} index
         * @return {?}
         */
            function (index) {
                var _this = this;
                if (this.select) {
                    switch (true) {
                        case index === 0:
                            this.selectRow(1);
                            break;
                        case index === this.collapsibleTableRows.length:
                            this.selectRow(this.collapsibleTableRows.length - 1);
                            break;
                        case 0 < index && index <= this.collapsibleTableRows.length - 1:
                            this.addSelectedRow(index);
                            this.collapsibleTableRows.forEach(function (row, i) {
                                if (index !== i) {
                                    if (!_this.selectMultipleRows) {
                                        row.selected = false;
                                    }
                                }
                                else {
                                    row.selected = true;
                                }
                                row.updateRow();
                            });
                            break;
                    }
                }
            };
        /**
         * @param {?} firstRowIndex
         * @param {?} lastRowIndex
         * @return {?}
         */
        CollapsibleTableComponent.prototype.selectRows = /**
         * @param {?} firstRowIndex
         * @param {?} lastRowIndex
         * @return {?}
         */
            function (firstRowIndex, lastRowIndex) {
                var _this = this;
                if (this.selectMultipleRows &&
                    0 < firstRowIndex && firstRowIndex < lastRowIndex &&
                    lastRowIndex <= this.collapsibleTableRows.length - 1) {
                    this.clearSelectedRows();
                    this.collapsibleTableRows.forEach(function (row, i) {
                        if (firstRowIndex <= i && i <= lastRowIndex) {
                            _this.addSelectedRow(i);
                            row.selected = true;
                        }
                        else {
                            row.selected = false;
                        }
                        row.updateRow();
                    });
                }
            };
        /**
         * @param {?} index
         * @return {?}
         */
        CollapsibleTableComponent.prototype.toggleRowSelection = /**
         * @param {?} index
         * @return {?}
         */
            function (index) {
                var _this = this;
                if (this.select &&
                    0 < index && index <= this.collapsibleTableRows.length - 1) {
                    this.collapsibleTableRows.forEach(function (row, i) {
                        if (index === i) {
                            if (row.selected) {
                                _this.removeSelectedRow(index);
                            }
                            else {
                                _this.addSelectedRow(index);
                            }
                            row.selected = !row.selected;
                            row.updateRow();
                        }
                    });
                }
            };
        /*updateFixedTableHeight() {
            this.fixedTableHeight = this.el.nativeElement.offsetHeight + 'px';
            let elem: Element = this.el.nativeElement;
            let rowHeights = 0;
            if (this.collapsibleTableRowComponent != null) {
                this.collapsibleTableRowComponent.forEach(row => {
                });
            }
        }*/
        /**
         * @param {?} row
         * @return {?}
         */
        CollapsibleTableComponent.prototype.updateStriped = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                if (this.striped && row.isBodyRow) {
                    row.isParentStriped = true;
                    if (row.isOddRow) {
                        row.parentStripedRowBackgroundColor = this.stripedOddColor || CollapsibleTableRowComponent.DEFAULT_STRIPED_ODD_ROW_COLOR;
                        row.parentStripedRowTextColor = this.stripedOddTextColor || CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                        row.rowBackgroundColor = row.parentStripedRowBackgroundColor;
                        row.rowTextColor = row.parentStripedRowTextColor;
                    }
                    else {
                        row.parentStripedRowBackgroundColor = this.stripedEvenColor || CollapsibleTableRowComponent.DEFAULT_STRIPED_EVEN_ROW_COLOR;
                        row.parentStripedRowTextColor = this.stripedEvenTextColor || CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                        row.rowBackgroundColor = row.parentStripedRowBackgroundColor;
                        row.rowTextColor = row.parentStripedRowTextColor;
                    }
                }
                else {
                    row.isParentStriped = false;
                    row.rowBackgroundColor = undefined;
                    row.rowTextColor = undefined;
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        CollapsibleTableComponent.prototype.updateHighlight = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                row.isParentHighlight = this.highlight;
                row.parentHighlightRowBackgroundColor = this.highlightColor || CollapsibleTableRowComponent.DEFAULT_HIGHLIGHT_ROW_COLOR;
                row.parentHighlightRowTextColor = this.highlightTextColor || CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
            };
        /**
         * @param {?} row
         * @return {?}
         */
        CollapsibleTableComponent.prototype.updateActive = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                row.activeRowBackgroundColor = this.activeColor || CollapsibleTableRowComponent.DEFAULT_ACTIVE_ROW_COLOR;
                row.activeRowTextColor = this.activeTextColor || CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
            };
        /**
         * @param {?} row
         * @return {?}
         */
        CollapsibleTableComponent.prototype.updateSelect = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                row.parentAllowsSelect = this.select;
                row.parentAllowsSelectMultipleRows = this.selectMultipleRows;
                row.parentAllowsDeselectingRows = this.allowDeselectingRows;
                if (row.selected) {
                    row.selectedRowBackgroundColor = this.selectColor || CollapsibleTableRowComponent.DEFAULT_SELECTED_ROW_COLOR;
                    row.selectedRowTextColor = this.selectTextColor || CollapsibleTableRowComponent.DEFAULT_ROW_TEXT_COLOR;
                    row.rowBackgroundColor = row.selectedRowBackgroundColor;
                    row.rowTextColor = row.selectedRowTextColor;
                }
            };
        /**
         * @param {?=} change
         * @return {?}
         */
        CollapsibleTableComponent.prototype.updateTable = /**
         * @param {?=} change
         * @return {?}
         */
            function (change) {
                var _this = this;
                if (this.collapsibleTableRows != null) {
                    if (change != null) {
                        switch (change) {
                            case 'striped':
                                // propagate changes to each of the CollapsibleTableRowComponent children
                                this.collapsibleTableRows.forEach(function (row) { _this.updateStriped(row); });
                                break;
                            case 'highlight':
                                this.collapsibleTableRows.forEach(function (row) { _this.updateHighlight(row); });
                                break;
                            case 'active':
                                this.collapsibleTableRows.forEach(function (row) { _this.updateActive(row); });
                                break;
                            case 'select':
                                this.collapsibleTableRows.forEach(function (row) { _this.updateSelect(row); });
                                break;
                        }
                    }
                    else {
                        // propagate changes to each of the CollapsibleTableRowComponent children
                        this.collapsibleTableRows.forEach(function (row) {
                            _this.updateStriped(row);
                            _this.updateHighlight(row);
                            _this.updateSelect(row);
                            _this.updateActive(row);
                        });
                    }
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CollapsibleTableComponent.prototype.keydown = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                // select a row only if 'select' property is set to 'true'
                if (this.select && this.allowKeyboardNavigation) {
                    /** @enum {number} */
                    var Key = {
                        arrowUp: 38,
                        arrowDown: 40,
                        home: 36,
                        end: 35,
                    };
                    Key[Key.arrowUp] = 'arrowUp';
                    Key[Key.arrowDown] = 'arrowDown';
                    Key[Key.home] = 'home';
                    Key[Key.end] = 'end';
                    /** @type {?} */
                    var index = 1;
                    /** @type {?} */
                    var whichKey = event['which'];
                    if (Key[whichKey] != null) {
                        event.preventDefault();
                        event.stopPropagation();
                        switch (whichKey) {
                            case Key.arrowUp:
                                // select previous row
                                if (this.selectedRows.length > 0) {
                                    index = this.selectedRows[this.selectedRows.length - 1];
                                    index--;
                                }
                                break;
                            case Key.arrowDown:
                                // select next row
                                if (this.selectedRows.length > 0) {
                                    index = this.selectedRows[this.selectedRows.length - 1];
                                    index++;
                                }
                                break;
                            case Key.home:
                                index = 1;
                                break;
                            case Key.end:
                                index = this.collapsibleTableRows.length - 1;
                                break;
                        }
                        this.clearSelectedRows();
                        this.deselectAllRows();
                        this.selectRow(index);
                        this.updateTable();
                    }
                }
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.mousedown = /**
         * @return {?}
         */
            function () {
                this.mouseDownHold = true;
            };
        /**
         * @return {?}
         */
        CollapsibleTableComponent.prototype.mouseup = /**
         * @return {?}
         */
            function () {
                this.mouseDownHold = false;
            };
        CollapsibleTableComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-table',
                        template: "<ng-content></ng-content>",
                        providers: [
                            CollapsibleService
                        ],
                        styles: ["\n        :host {\n            display: table;\n            position: relative;\n            width: 100%;\n            border-collapse: collapse;\n        }\n\n        :host thead {\n            border-bottom: 1px solid #d0d0d0;\n        }\n\n        :host /deep/ tbody /deep/ collapsible-table-row {\n            cursor: pointer;\n        }\n\n        :host /deep/ collapsible-table-row th,\n        :host /deep/ collapsible-table-row td {\n            border-radius: 0;\n        }\n\n        :host[bordered='true'] {\n            border-top: 1px solid #d0d0d0;\n            border-right: 1px solid #d0d0d0;\n            border-left: 1px solid #d0d0d0;\n        }\n\n        :host[bordered='true'] /deep/ collapsible-table-row,\n        :host[borderedHorizontally='true'] /deep/ collapsible-table-row {\n            border-bottom: 1px solid #d0d0d0;\n        }\n\n        :host[bordered='true'] /deep/ collapsible-table-row th,\n        :host[bordered='true'] /deep/ collapsible-table-row td,\n        :host[borderedVertically='true'] /deep/ collapsible-table-row th:not(:last-child),\n        :host[borderedVertically='true'] /deep/ collapsible-table-row td:not(:last-child) {\n            border-right: 1px solid #d0d0d0;\n        }\n\n        :host(.centered) /deep/ * {\n            text-align: center;\n        }\n\n        :host(.noTextSelect) /deep/ collapsible-table-row th,\n        :host(.noTextSelect) /deep/ collapsible-table-row td {\n            user-select: none;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleTableComponent.ctorParameters = function () {
            return [
                { type: core.ElementRef },
                { type: CollapsibleService }
            ];
        };
        CollapsibleTableComponent.propDecorators = {
            bordered: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.bordered',] }],
            borderedHorizontally: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.borderedHorizontally',] }],
            borderedVertically: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.borderedVertically',] }],
            striped: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.striped',] }],
            stripedOddColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.stripedOddColor',] }],
            stripedOddTextColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.stripedOddTextColor',] }],
            stripedEvenColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.stripedEvenColor',] }],
            stripedEvenTextColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.stripedEvenTextColor',] }],
            highlight: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.highlight',] }],
            highlightColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.highlightColor',] }],
            highlightTextColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.highlightTextColor',] }],
            activeColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.activeColor',] }],
            activeTextColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.activeTextColor',] }],
            centered: [{ type: core.Input }, { type: core.HostBinding, args: ['class.centered',] }, { type: core.HostBinding, args: ['attr.centered',] }],
            responsive: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.responsive',] }],
            select: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.select',] }],
            selectMultipleRows: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.selectMultipleRows',] }],
            selectColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.selectColor',] }],
            selectTextColor: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.selectTextColor',] }],
            allowDeselectingRows: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.allowDeselectingRows',] }],
            allowKeyboardNavigation: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.allowKeyboardNavigation',] }],
            noTextSelect: [{ type: core.Input }, { type: core.HostBinding, args: ['class.noTextSelect',] }, { type: core.HostBinding, args: ['attr.noTextSelect',] }],
            tabindex: [{ type: core.HostBinding, args: ['attr.tabindex',] }],
            type: [{ type: core.Input }, { type: core.HostBinding, args: ['attr.type',] }],
            collapsibleTableRows: [{ type: core.ContentChildren, args: [CollapsibleTableRowComponent,] }],
            keydown: [{ type: core.HostListener, args: ['keydown', ['$event'],] }],
            mousedown: [{ type: core.HostListener, args: ['mousedown',] }],
            mouseup: [{ type: core.HostListener, args: ['mouseup',] }]
        };
        return CollapsibleTableComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleTableRowDetailComponent = /** @class */ (function () {
        function CollapsibleTableRowDetailComponent(collapsibleService) {
            this.collapsibleService = collapsibleService;
            this.subject = new rxjs.Subject();
        }
        /**
         * @return {?}
         */
        CollapsibleTableRowDetailComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.subject.asObservable().subscribe(function () {
                    _this.viewListBodies.forEach(function (item) {
                        item.toggleCollapsibleItem();
                    });
                });
            };
        /**
         * @return {?}
         */
        CollapsibleTableRowDetailComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // store list bodies in 'CollapsibleService'
                this.viewListBodies.forEach(function (item) {
                    _this.collapsibleService.addListBody(item);
                });
            };
        CollapsibleTableRowDetailComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'collapsible-table-row-detail',
                        template: "\n        <td colspan=\"100%\">\n            <collapsible-list-item>\n                <collapsible-body>\n                    <ng-content></ng-content>\n                </collapsible-body>\n            </collapsible-list-item>\n        </td>\n    ",
                        styles: ["\n        :host {\n            display: table-row;\n        }\n\n        :host collapsible-body,\n        :host td {\n            padding: 0;\n        }\n    "]
                    }] }
        ];
        /** @nocollapse */
        CollapsibleTableRowDetailComponent.ctorParameters = function () {
            return [
                { type: CollapsibleService }
            ];
        };
        CollapsibleTableRowDetailComponent.propDecorators = {
            expanded: [{ type: core.Input }],
            viewListBodies: [{ type: core.ViewChildren, args: [CollapsibleBodyComponent,] }]
        };
        return CollapsibleTableRowDetailComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsibleModule = /** @class */ (function () {
        function CollapsibleModule() {
        }
        /**
         * @return {?}
         */
        CollapsibleModule.forRoot = /**
         * @return {?}
         */
            function () {
                return {
                    ngModule: CollapsibleModule,
                    providers: [CollapsibleModule]
                };
            };
        CollapsibleModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            CollapsibleListComponent,
                            CollapsibleListItemComponent,
                            CollapsibleHeaderComponent,
                            CollapsibleBodyComponent,
                            CollapsibleTableComponent,
                            CollapsibleTableRowComponent,
                            CollapsibleTableRowDetailComponent
                        ],
                        exports: [
                            CollapsibleListComponent,
                            CollapsibleListItemComponent,
                            CollapsibleHeaderComponent,
                            CollapsibleBodyComponent,
                            CollapsibleTableComponent,
                            CollapsibleTableRowComponent,
                            CollapsibleTableRowDetailComponent
                        ],
                        providers: [
                            CollapsibleService,
                            CollapsibleEventService,
                            CollapsibleAnimationsService
                        ]
                    },] }
        ];
        return CollapsibleModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.CollapsibleModule = CollapsibleModule;
    exports.CollapsibleService = CollapsibleService;
    exports.CollapsibleEvent = CollapsibleEvent;
    exports.CollapsibleEventService = CollapsibleEventService;
    exports.CollapsibleAnimationsService = CollapsibleAnimationsService;
    exports.CollapsibleHeaderComponent = CollapsibleHeaderComponent;
    exports.CollapsibleBodyComponent = CollapsibleBodyComponent;
    exports.CollapsibleListComponent = CollapsibleListComponent;
    exports.CollapsibleListItemComponent = CollapsibleListItemComponent;
    exports.CollapsibleTableComponent = CollapsibleTableComponent;
    exports.CollapsibleTableRowComponent = CollapsibleTableRowComponent;
    exports.CollapsibleTableRowDetailComponent = CollapsibleTableRowDetailComponent;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItY29sbGFwc2libGUudW1kLmpzLm1hcCIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm5nOi8vYW5ndWxhcjItY29sbGFwc2libGUvbGliL3NlcnZpY2VzL2NvbGxhcHNpYmxlLnNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXIyLWNvbGxhcHNpYmxlL2xpYi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS1ldmVudC5zZXJ2aWNlLnRzIiwibmc6Ly9hbmd1bGFyMi1jb2xsYXBzaWJsZS9saWIvc2VydmljZXMvY29sbGFwc2libGUtYW5pbWF0aW9ucy5zZXJ2aWNlLnRzIiwibmc6Ly9hbmd1bGFyMi1jb2xsYXBzaWJsZS9saWIvY29sbGFwc2libGUtYm9keS9jb2xsYXBzaWJsZS1ib2R5LmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItY29sbGFwc2libGUvbGliL2NvbGxhcHNpYmxlLWxpc3QtaXRlbS9jb2xsYXBzaWJsZS1saXN0LWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1jb2xsYXBzaWJsZS9saWIvY29sbGFwc2libGUtbGlzdC9jb2xsYXBzaWJsZS1saXN0LmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItY29sbGFwc2libGUvbGliL2NvbGxhcHNpYmxlLWhlYWRlci9jb2xsYXBzaWJsZS1oZWFkZXIuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1jb2xsYXBzaWJsZS9saWIvY29sbGFwc2libGUtdGFibGUtcm93L2NvbGxhcHNpYmxlLXRhYmxlLXJvdy5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWNvbGxhcHNpYmxlL2xpYi9jb2xsYXBzaWJsZS10YWJsZS9jb2xsYXBzaWJsZS10YWJsZS5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWNvbGxhcHNpYmxlL2xpYi9jb2xsYXBzaWJsZS10YWJsZS1yb3ctZGV0YWlsL2NvbGxhcHNpYmxlLXRhYmxlLXJvdy1kZXRhaWwuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1jb2xsYXBzaWJsZS9saWIvY29sbGFwc2libGUubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBDb2xsYXBzaWJsZVRhYmxlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29sbGFwc2libGUtdGFibGUvY29sbGFwc2libGUtdGFibGUuY29tcG9uZW50JztcbmltcG9ydCB7IENvbGxhcHNpYmxlSGVhZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29sbGFwc2libGUtaGVhZGVyL2NvbGxhcHNpYmxlLWhlYWRlci5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVCb2R5Q29tcG9uZW50IH0gZnJvbSAnLi4vY29sbGFwc2libGUtYm9keS9jb2xsYXBzaWJsZS1ib2R5LmNvbXBvbmVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZVNlcnZpY2Uge1xuICAgIHR5cGU6ICdhY2NvcmRpb24nIHwgJ2V4cGFuZGFibGUnO1xuXG4gICAgY29sbGFwc2libGVUYWJsZTogQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudDtcbiAgICBoZWFkZXJzOiBBcnJheTxDb2xsYXBzaWJsZUhlYWRlckNvbXBvbmVudD4gPSBuZXcgQXJyYXk8Q29sbGFwc2libGVIZWFkZXJDb21wb25lbnQ+KCk7XG4gICAgYm9kaWVzOiBBcnJheTxDb2xsYXBzaWJsZUJvZHlDb21wb25lbnQ+ID0gbmV3IEFycmF5PENvbGxhcHNpYmxlQm9keUNvbXBvbmVudD4oKTtcblxuICAgIGdldFR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGU7XG4gICAgfVxuXG4gICAgc2V0VHlwZSh0eXBlOiAnYWNjb3JkaW9uJyB8ICdleHBhbmRhYmxlJykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cblxuICAgIGdldENvbGxhcHNpYmxlVGFibGUoKTogQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNpYmxlVGFibGU7XG4gICAgfVxuXG4gICAgc2V0Q29sbGFwc2libGVUYWJsZSh0YWJsZTogQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmNvbGxhcHNpYmxlVGFibGUgPSB0YWJsZTtcbiAgICB9XG5cbiAgICBhZGRMaXN0SGVhZGVyKGhlYWRlcjogQ29sbGFwc2libGVIZWFkZXJDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnB1c2goaGVhZGVyKTtcbiAgICB9XG5cbiAgICBhZGRMaXN0Qm9keShib2R5OiBDb2xsYXBzaWJsZUJvZHlDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTtcbiAgICB9XG5cbiAgICBjb2xsYXBzZUFsbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ib2RpZXMuZm9yRWFjaCgoY29sbGFwc2libGVCb2R5Q29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBzZXQgJ2V4cGFuZGVkJyBwcm9wZXJ0aWVzIG9mIGFsbCB0aGUgQ29sbGFwc2libGVCb2R5Q29tcG9uZW50cyB0byAnZmFsc2UnXG4gICAgICAgICAgICBjb2xsYXBzaWJsZUJvZHlDb21wb25lbnQuZXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbGxhcHNpYmxlQm9keUNvbXBvbmVudC5leHBhbmRlZFN0YXRlID0gY29sbGFwc2libGVCb2R5Q29tcG9uZW50LmV4cGFuZGVkLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIC8vIGVtaXQgJ3RvZ2dsZVN0YXRlJyBldmVudCBmb3IgYWxsIHRoZSBDb2xsYXBzaWJsZUJvZHlDb21wb25lbnRzXG4gICAgICAgICAgICBjb2xsYXBzaWJsZUJvZHlDb21wb25lbnQudG9nZ2xlU3RhdGUuZW1pdChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVFdmVudCB7XG4gICAgdHlwZTogc3RyaW5nO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVFdmVudFNlcnZpY2Uge1xuICAgIHR5cGU6ICdhY2NvcmRpb24nIHwgJ2V4cGFuZGFibGUnO1xuICAgIC8vIE9ic2VydmFibGUgc3RyaW5nIHNvdXJjZXNcbiAgICBwcml2YXRlIHRvZ2dsZUNvbGxhcHNpYmxlSXRlbVNvdXJjZSA9IG5ldyBTdWJqZWN0PGFueT4oKTtcblxuICAgIC8vIE9ic2VydmFibGUgc3RyaW5nIHN0cmVhbXNcbiAgICB0b2dnbGVDb2xsYXBzaWJsZUl0ZW0kID0gdGhpcy50b2dnbGVDb2xsYXBzaWJsZUl0ZW1Tb3VyY2UuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBUb2dnbGUgY29sbGFwc2libGUgaXRlbVxuICAgIHRvZ2dsZUNvbGxhcHNpYmxlSXRlbShldmVudD86IENvbGxhcHNpYmxlRXZlbnQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVDb2xsYXBzaWJsZUl0ZW1Tb3VyY2UubmV4dChldmVudCk7XG4gICAgfVxuXG4gICAgdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlQ29sbGFwc2libGVJdGVtU291cmNlLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBBbmltYXRpb25UcmlnZ2VyTWV0YWRhdGEsIHRyaWdnZXIsIHN0YXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgYW5pbWF0ZSB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVBbmltYXRpb25zU2VydmljZSB7XG5cbiAgICBzdGF0aWMgY29sbGFwc2libGVCb2R5QW5pbWF0aW9uRHVyYXRpb24gPSAnMC4ycyc7XG4gICAgc3RhdGljIGVhc2VJblF1YWQgPSAnY3ViaWMtYmV6aWVyKDAuNTUsIDAuMDg1LCAwLjY4LCAwLjUzKSc7XG4gICAgc3RhdGljIGVhc2VPdXRRdWFkID0gJ2N1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KSc7XG5cbiAgICBzdGF0aWMgY29sbGFwc2libGVUYWJsZVJvd0FuaW1hdGlvbkR1cmF0aW9uID0gJzAuMnMnO1xuXG4gICAgc3RhdGljIGNvbGxhcHNpYmxlQm9keUFuaW1hdGlvbnModHJpZ2dlck5hbWU6IHN0cmluZyk6IEFuaW1hdGlvblRyaWdnZXJNZXRhZGF0YVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRyaWdnZXIodHJpZ2dlck5hbWUsIFtcbiAgICAgICAgICAgICAgICBzdGF0ZSgnKicsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICBzdGF0ZSgndHJ1ZScsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnaW5zZXQgMCA0cHggNHB4IC0ycHggcmdiKDIwOCwgMjA4LCAyMDgpLCBpbnNldCAwIC0zcHggMnB4IC0xcHggcmdiKDIwOCwgMjA4LCAyMDgpJyxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdpbmhlcml0J1xuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uKCcqID0+IHRydWUnLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRlKENvbGxhcHNpYmxlQW5pbWF0aW9uc1NlcnZpY2UuY29sbGFwc2libGVCb2R5QW5pbWF0aW9uRHVyYXRpb24gKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2libGVBbmltYXRpb25zU2VydmljZS5lYXNlSW5RdWFkKSksXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiBmYWxzZScsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoQ29sbGFwc2libGVBbmltYXRpb25zU2VydmljZS5jb2xsYXBzaWJsZUJvZHlBbmltYXRpb25EdXJhdGlvbiArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBDb2xsYXBzaWJsZUFuaW1hdGlvbnNTZXJ2aWNlLmVhc2VPdXRRdWFkKSlcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgLypcbiAgICBzdGF0aWMgY29sbGFwc2libGVUYWJsZVJvd0FuaW1hdGlvbnModHJpZ2dlck5hbWU6IHN0cmluZyk6IEFuaW1hdGlvblRyaWdnZXJNZXRhZGF0YVtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRyaWdnZXIodHJpZ2dlck5hbWUsIFtcbiAgICAgICAgICAgICAgICBzdGF0ZSgnYWN0aXZlJywgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjE1KSdcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgc3RhdGUoJ2luYWN0aXZlJywgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndHJhbnNwYXJlbnQnXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gYWN0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZShDb2xsYXBzaWJsZUFuaW1hdGlvbnNTZXJ2aWNlLmNvbGxhcHNpYmxlVGFibGVSb3dBbmltYXRpb25EdXJhdGlvbiArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBDb2xsYXBzaWJsZUFuaW1hdGlvbnNTZXJ2aWNlLmVhc2VPdXRRdWFkKSksXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiBpbmFjdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGUoQ29sbGFwc2libGVBbmltYXRpb25zU2VydmljZS5jb2xsYXBzaWJsZVRhYmxlUm93QW5pbWF0aW9uRHVyYXRpb24gKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2libGVBbmltYXRpb25zU2VydmljZS5lYXNlT3V0UXVhZCkpXG4gICAgICAgICAgICBdKVxuICAgICAgICBdO1xuICAgIH1cbiAgICAqL1xufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcyxcbiAgICBJbnB1dCwgRWxlbWVudFJlZiwgSG9zdEJpbmRpbmcsXG4gICAgT3V0cHV0LCBFdmVudEVtaXR0ZXJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbGxhcHNpYmxlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVFdmVudFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS1ldmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IENvbGxhcHNpYmxlQW5pbWF0aW9uc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS1hbmltYXRpb25zLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2NvbGxhcHNpYmxlLWJvZHknLFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmAsXG4gICAgc3R5bGVzOiBbYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xuICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07XG4gICAgICAgIH1cblxuICAgICAgICAuc2lkZS1uYXYgOmhvc3Qge1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5zaWRlLW5hdiA6aG9zdCxcbiAgICAgICAgLnNpZGUtbmF2LmZpeGVkIDpob3N0IHtcbiAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgICAgIH1cbiAgICBgXSxcbiAgICBhbmltYXRpb25zOiBDb2xsYXBzaWJsZUFuaW1hdGlvbnNTZXJ2aWNlLmNvbGxhcHNpYmxlQm9keUFuaW1hdGlvbnMoJ2NvbGxhcHNpYmxlQm9keVN0YXRlJylcbn0pXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVCb2R5Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gICAgQEhvc3RCaW5kaW5nKCdAY29sbGFwc2libGVCb2R5U3RhdGUnKVxuICAgIGV4cGFuZGVkU3RhdGU6IHN0cmluZztcblxuICAgIEBJbnB1dCgpIGV4cGFuZGVkOiBib29sZWFuO1xuXG4gICAgQE91dHB1dCgpIHRvZ2dsZVN0YXRlID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsXG4gICAgICAgIHByaXZhdGUgY29sbGFwc2libGVTZXJ2aWNlOiBDb2xsYXBzaWJsZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZXZlbnRTZXJ2aWNlOiBDb2xsYXBzaWJsZUV2ZW50U2VydmljZSkgeyB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5ldmVudFNlcnZpY2UudG9nZ2xlQ29sbGFwc2libGVJdGVtJC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVDb2xsYXBzaWJsZUl0ZW0oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFzQ29udGVudCgpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuY2hpbGROb2Rlcykge1xuICAgICAgICAgICAgaWYgKCg8RWxlbWVudD5jaGlsZCkudGFnTmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRvZ2dsZUNvbGxhcHNpYmxlSXRlbSgpIHtcbiAgICAgICAgLy8gdG9nZ2xlIGJvZHkncyBzdGF0ZSBvbmx5IGlmIGl0IGhhcyBhbnkgY2hpbGRzXG4gICAgICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGVTZXJ2aWNlLmdldFR5cGUoKSA9PT0gJ2FjY29yZGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wRXhwYW5kZWQgPSB0aGlzLmV4cGFuZGVkO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2libGVTZXJ2aWNlLmNvbGxhcHNlQWxsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRlZCA9IHRlbXBFeHBhbmRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZWQgPSAhdGhpcy5leHBhbmRlZDtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kZWRTdGF0ZSA9IHRoaXMuZXhwYW5kZWQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgLy8gZW1pdCAndG9nZ2xlU3RhdGUnIGV2ZW50XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVN0YXRlLmVtaXQodGhpcy5leHBhbmRlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY2hhbmdlcykpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnZXhwYW5kZWQnICYmXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXMuZXhwYW5kZWQuY3VycmVudFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5leHBhbmRlZCA9IGNoYW5nZXMuZXhwYW5kZWQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGVkU3RhdGUgPSB0aGlzLmV4cGFuZGVkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFrZXMgc3VyZSB3ZSBkb24ndCBoYXZlIGEgbWVtb3J5IGxlYWsgYnkgZGVzdHJveWluZyB0aGVcbiAgICAvLyBTdWJzY3JpcHRpb24gd2hlbiBvdXIgY29tcG9uZW50IGlzIGRlc3Ryb3llZFxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS51bnN1YnNjcmliZSgpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBDb250ZW50Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlQm9keUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbGxhcHNpYmxlLWJvZHkvY29sbGFwc2libGUtYm9keS5jb21wb25lbnQnO1xuXG5pbXBvcnQgeyBDb2xsYXBzaWJsZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS5zZXJ2aWNlJztcbmltcG9ydCB7IENvbGxhcHNpYmxlRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29sbGFwc2libGUtZXZlbnQuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnY29sbGFwc2libGUtbGlzdC1pdGVtJyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJjb2xsYXBzaWJsZS1oZWFkZXJcIj48L25nLWNvbnRlbnQ+XG4gICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cImNvbGxhcHNpYmxlLWJvZHlcIj48L25nLWNvbnRlbnQ+XG4gICAgYCxcbiAgICBwcm92aWRlcnM6IFtDb2xsYXBzaWJsZUV2ZW50U2VydmljZV1cbn0pXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVMaXN0SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQge1xuXG4gICAgQENvbnRlbnRDaGlsZHJlbihDb2xsYXBzaWJsZUJvZHlDb21wb25lbnQpIGNvbnRlbnRMaXN0Qm9kaWVzOiBBcnJheTxDb2xsYXBzaWJsZUJvZHlDb21wb25lbnQ+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb2xsYXBzaWJsZVNlcnZpY2U6IENvbGxhcHNpYmxlU2VydmljZSkgeyB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIC8vIHN0b3JlIGxpc3QgYm9kaWVzIGluICdDb2xsYXBzaWJsZVNlcnZpY2UnXG4gICAgICAgIHRoaXMuY29udGVudExpc3RCb2RpZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVNlcnZpY2UuYWRkTGlzdEJvZHkoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcyxcbiAgSW5wdXQsXG4gIENvbnRlbnRDaGlsZHJlblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQ29sbGFwc2libGVMaXN0SXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbGxhcHNpYmxlLWxpc3QtaXRlbS9jb2xsYXBzaWJsZS1saXN0LWl0ZW0uY29tcG9uZW50JztcblxuaW1wb3J0IHsgQ29sbGFwc2libGVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29sbGFwc2libGUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2NvbGxhcHNpYmxlLWxpc3QnLFxuICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50IHNlbGVjdD1cImNvbGxhcHNpYmxlLWxpc3QtaXRlbVwiPjwvbmctY29udGVudD5gLFxuICBzdHlsZXM6IFtgXG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBtYXJnaW46IDAuNXJlbSAwIDFyZW0gMDtcbiAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkO1xuICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2RkZDtcbiAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2RkZDtcbiAgICAgIGJveC1zaGFkb3c6XG4gICAgICAgIDAgMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgIDAgMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC4xMiksXG4gICAgICAgIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICB9XG5cbiAgICAuc2lkZS1uYXYgOmhvc3QsXG4gICAgLnNpZGUtbmF2LmZpeGVkIDpob3N0IHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuXG4gICAgOmhvc3QoLnBvcG91dCkge1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICB9XG5cbiAgICA6aG9zdCgucG9wb3V0KSA+IGxpIHtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC4xNiksIDAgMnB4IDEwcHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICAgICAgbWFyZ2luOiAwIDI0cHg7XG4gICAgICB0cmFuc2l0aW9uOiBtYXJnaW4gMC4zNXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpO1xuICAgIH1cblxuICAgIC5zaWRlLW5hdiA6aG9zdCB7XG4gICAgICBtYXJnaW46IDA7XG4gICAgfVxuICBgXSxcbiAgcHJvdmlkZXJzOiBbQ29sbGFwc2libGVTZXJ2aWNlXVxufSlcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZUxpc3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XG4gIC8vIGNvbXBvbmVudCBvcHRpb25zXG4gIC8vXG4gIC8vIGRlc2NyaWJlcyB0aGUgdHlwZSBvZiB0aGUgY29sbGFwc2libGUgbGlzdDogJ2FjY29yZGlvbicgb3IgJ2V4cGFuZGFibGUnXG4gIEBJbnB1dCgpIHR5cGU6ICdhY2NvcmRpb24nIHwgJ2V4cGFuZGFibGUnID0gJ2FjY29yZGlvbic7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihDb2xsYXBzaWJsZUxpc3RJdGVtQ29tcG9uZW50KSBjb250ZW50TGlzdEl0ZW1zOiBBcnJheTxDb2xsYXBzaWJsZUxpc3RJdGVtQ29tcG9uZW50PjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbGxhcHNpYmxlU2VydmljZTogQ29sbGFwc2libGVTZXJ2aWNlKSB7IH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbGxhcHNpYmxlU2VydmljZS5zZXRUeXBlKHRoaXMudHlwZSk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBjaGFuZ2UgaW4gY2hhbmdlcykge1xuICAgICAgaWYgKGNoYW5nZSA9PT0gJ3R5cGUnKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IGNoYW5nZXMudHlwZS5jdXJyZW50VmFsdWU7XG4gICAgICAgIHRoaXMuY29sbGFwc2libGVTZXJ2aWNlLnNldFR5cGUodGhpcy50eXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29sbGFwc2libGUtZXZlbnQuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnY29sbGFwc2libGUtaGVhZGVyJyxcbiAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICAgIHN0eWxlczogW2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiAzcmVtO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDNyZW07XG4gICAgICAgICAgICBwYWRkaW5nOiAwIDFyZW07XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XG4gICAgICAgIH1cbiAgICBgXVxufSlcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZUhlYWRlckNvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGV2ZW50U2VydmljZTogQ29sbGFwc2libGVFdmVudFNlcnZpY2UpIHsgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICAgIGNsaWNrKCkge1xuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS50b2dnbGVDb2xsYXBzaWJsZUl0ZW0oKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBJbnB1dCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lcixcbiAgICBFbGVtZW50UmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlVGFibGVSb3dEZXRhaWxDb21wb25lbnQgfSBmcm9tICcuLi9jb2xsYXBzaWJsZS10YWJsZS1yb3ctZGV0YWlsL2NvbGxhcHNpYmxlLXRhYmxlLXJvdy1kZXRhaWwuY29tcG9uZW50JztcbmltcG9ydCB7IENvbGxhcHNpYmxlVGFibGVDb21wb25lbnQgfSBmcm9tICcuLi9jb2xsYXBzaWJsZS10YWJsZS9jb2xsYXBzaWJsZS10YWJsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29sbGFwc2libGUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnY29sbGFwc2libGUtdGFibGUtcm93JyxcbiAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gLFxuICAgIHN0eWxlczogW2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgZGlzcGxheTogdGFibGUtcm93O1xuICAgICAgICAgICAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvciwgY29sb3I7XG4gICAgICAgIH1cbiAgICBgXSxcbn0pXG5leHBvcnQgY2xhc3MgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50SW5pdCB7XG5cbiAgICBwcml2YXRlIHN0YXRpYyBFQVNFX09VVF9RVUFEID0gJ2N1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KSc7XG5cbiAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfU1RSSVBFRF9PRERfUk9XX0NPTE9SID0gJ3JnYmEoMjQyLDI0MiwyNDIsMC44KSc7XG4gICAgcHVibGljIHN0YXRpYyBERUZBVUxUX1NUUklQRURfRVZFTl9ST1dfQ09MT1IgPSAndHJhbnNwYXJlbnQnO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9ISUdITElHSFRfUk9XX0NPTE9SID0gJ3JnYmEoMjIyLDIyMiwyMjIsIDAuOCknO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9BQ1RJVkVfUk9XX0NPTE9SID0gJ3JnYmEoMjEyLDIxMiwyMTIsIDAuOCknO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9TRUxFQ1RFRF9ST1dfQ09MT1IgPSAncmdiYSgyMTIsMjEyLDIxMiwgMC44KSc7XG5cbiAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfUk9XX1RFWFRfQ09MT1IgPSAnYmxhY2snO1xuXG4gICAgQElucHV0KCkgZGV0YWlsOiBDb2xsYXBzaWJsZVRhYmxlUm93RGV0YWlsQ29tcG9uZW50O1xuXG4gICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5jb2xvcicpIHJvd1RleHRDb2xvcjogc3RyaW5nO1xuXG4gICAgQEhvc3RCaW5kaW5nKCdzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yJykgcm93QmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cbiAgICBASG9zdEJpbmRpbmcoJ3N0eWxlLnRyYW5zaXRpb24tZHVyYXRpb24nKSBiYWNrZ3JvdW5kVHJhbnNpdGlvbkR1cmF0aW9uID0gJzAuM3MnO1xuICAgIC8vIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlSW5RdWFkXG4gICAgQEhvc3RCaW5kaW5nKCdzdHlsZS50cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbicpXG4gICAgYmFja2dyb3VuZFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IHRoaXMuc2FuaXRpemVyXG4gICAgICAgIC5ieXBhc3NTZWN1cml0eVRydXN0U3R5bGUoQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5FQVNFX09VVF9RVUFEKTtcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3Muc2VsZWN0ZWQnKSBzZWxlY3RlZDogYm9vbGVhbjtcblxuICAgIGlzSGVhZFJvdyA9IGZhbHNlO1xuICAgIGlzQm9keVJvdyA9IGZhbHNlO1xuICAgIGlzT2RkUm93ID0gZmFsc2U7XG4gICAgaXNFdmVuUm93ID0gZmFsc2U7XG4gICAgaXNQYXJlbnRTdHJpcGVkID0gZmFsc2U7XG4gICAgaXNQYXJlbnRIaWdobGlnaHQgPSBmYWxzZTtcbiAgICBwYXJlbnRBbGxvd3NTZWxlY3QgPSBmYWxzZTtcbiAgICBwYXJlbnRBbGxvd3NTZWxlY3RNdWx0aXBsZVJvd3MgPSBmYWxzZTtcblxuICAgIHBhcmVudFN0cmlwZWRSb3dCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcbiAgICBwYXJlbnRTdHJpcGVkUm93VGV4dENvbG9yOiBzdHJpbmc7XG4gICAgcGFyZW50SGlnaGxpZ2h0Um93QmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG4gICAgcGFyZW50SGlnaGxpZ2h0Um93VGV4dENvbG9yOiBzdHJpbmc7XG4gICAgYWN0aXZlUm93QmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG4gICAgYWN0aXZlUm93VGV4dENvbG9yOiBzdHJpbmc7XG4gICAgc2VsZWN0ZWRSb3dCYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcbiAgICBzZWxlY3RlZFJvd1RleHRDb2xvcjogc3RyaW5nO1xuICAgIHBhcmVudEFsbG93c0Rlc2VsZWN0aW5nUm93cyA9IGZhbHNlO1xuXG4gICAgaW5kZXg6IG51bWJlcjtcblxuICAgIHByaXZhdGUgcGFyZW50Q29sbGFwc2libGVUYWJsZTogQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudDtcbiAgICBwcml2YXRlIHByZXZTZWxlY3RlZFJvd3M6IEFycmF5PG51bWJlcj47XG4gICAgcHJpdmF0ZSBkcmFnU2VsZWN0aW9uID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBlbDogRWxlbWVudFJlZixcbiAgICAgICAgcHJpdmF0ZSBzYW5pdGl6ZXI6IERvbVNhbml0aXplcixcbiAgICAgICAgcHJpdmF0ZSBjb2xsYXBzaWJsZVNlcnZpY2U6IENvbGxhcHNpYmxlU2VydmljZSkgeyB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgY29uc3QgZWxlbTogRWxlbWVudCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGJvZHk6IEVsZW1lbnQgPSBlbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGlmICh0Ym9keS50YWdOYW1lID09PSAnVEJPRFknKSB7XG4gICAgICAgICAgICBjb25zdCBjb2xsYXBzaWJsZVRhYmxlUm93czogTm9kZUxpc3RPZjxFbGVtZW50PiA9IHRib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NvbGxhcHNpYmxlLXRhYmxlLXJvdycpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xsYXBzaWJsZVRhYmxlUm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNpYmxlVGFibGVSb3c6IEVsZW1lbnQgPSBjb2xsYXBzaWJsZVRhYmxlUm93c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY29sbGFwc2libGVUYWJsZVJvdyA9PT0gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHJpZXZlIHBhcmVudCBDb2xsYXBzaWJsZVRhYmxlQ29tcG9uZW50IHRocm91Z2ggdGhlIENvbGxhcHNpYmxlU2VydmljZVxuICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUgPSB0aGlzLmNvbGxhcHNpYmxlU2VydmljZS5nZXRDb2xsYXBzaWJsZVRhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjb2xsYXBzaWJsZS10YWJsZSBpcyBtYXJrZWQgdG8gc2hvdyBzdHJpcGVkIHRhYmxlXG4gICAgICAgICAgICB0aGlzLmlzUGFyZW50U3RyaXBlZCA9IHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5zdHJpcGVkO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjb2xsYXBzaWJsZS10YWJsZSBpcyBtYXJrZWQgdG8gaGlnaGxpZ2h0IGN1cnJlbnQgcm93XG4gICAgICAgICAgICB0aGlzLmlzUGFyZW50SGlnaGxpZ2h0ID0gdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLmhpZ2hsaWdodDtcbiAgICAgICAgICAgIHRoaXMucGFyZW50SGlnaGxpZ2h0Um93QmFja2dyb3VuZENvbG9yID0gdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLmhpZ2hsaWdodENvbG9yIHx8XG4gICAgICAgICAgICAgICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX0hJR0hMSUdIVF9ST1dfQ09MT1I7XG4gICAgICAgICAgICB0aGlzLnBhcmVudEhpZ2hsaWdodFJvd1RleHRDb2xvciA9IHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5oaWdobGlnaHRUZXh0Q29sb3IgfHxcbiAgICAgICAgICAgICAgICBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfUk9XX1RFWFRfQ09MT1I7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGNvbGxhcHNpYmxlLXRhYmxlIHNwZWNpZmllcyB0aGUgYWN0aXZlIHJvdyBjb2xvclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVSb3dCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuYWN0aXZlQ29sb3IgfHxcbiAgICAgICAgICAgICAgICBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfQUNUSVZFX1JPV19DT0xPUjtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUm93VGV4dENvbG9yID0gdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLmFjdGl2ZVRleHRDb2xvciB8fFxuICAgICAgICAgICAgICAgIENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQuREVGQVVMVF9ST1dfVEVYVF9DT0xPUjtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgY29sbGFwc2libGUtdGFibGUgYWxsb3dzIHNlbGVjdGluZyByb3dzXG4gICAgICAgICAgICB0aGlzLnBhcmVudEFsbG93c1NlbGVjdCA9IHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5zZWxlY3Q7XG4gICAgICAgICAgICB0aGlzLnBhcmVudEFsbG93c1NlbGVjdE11bHRpcGxlUm93cyA9IHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5zZWxlY3RNdWx0aXBsZVJvd3M7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGNvbGxhcHNpYmxlLXRhYmxlIHNwZWNpZmllcyBhIGNvbG9yIGZvciB0aGUgc2VsZWN0ZWQgcm93XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLnNlbGVjdENvbG9yIHx8XG4gICAgICAgICAgICAgICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1NFTEVDVEVEX1JPV19DT0xPUjtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dUZXh0Q29sb3IgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc2VsZWN0VGV4dENvbG9yIHx8XG4gICAgICAgICAgICAgICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1JPV19URVhUX0NPTE9SO1xuXG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjb2xsYXBzaWJsZS10YWJsZSBhbGxvd3MgdG8gZGVzZWxlY3Qgcm93c1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRBbGxvd3NEZXNlbGVjdGluZ1Jvd3MgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuYWxsb3dEZXNlbGVjdGluZ1Jvd3MgIT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLmFsbG93RGVzZWxlY3RpbmdSb3dzIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMudXBkYXRlUm93KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlUm93KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBlbGVtOiBFbGVtZW50ID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50O1xuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiB0aGUgcm93IGlzIGluc2lkZSB0aGUgJ3RoZWFkJ1xuICAgICAgICBjb25zdCB0aCA9IGVsZW0ucXVlcnlTZWxlY3RvcigndGgnKTtcbiAgICAgICAgaWYgKHRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaXNIZWFkUm93ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRldGVybWluZSBpZiB0aGUgcm93IGlzIGluc2lkZSB0aGUgJ3Rib2R5J1xuICAgICAgICBjb25zdCB0ZCA9IGVsZW0ucXVlcnlTZWxlY3RvcigndGQnKTtcbiAgICAgICAgaWYgKHRkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaXNCb2R5Um93ID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGRldGVybWluZSBpZiB0aGUgcm93IGlzICdvZGQnIG9yICdldmVudCdcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNFdmVuUm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudFN0cmlwZWRSb3dCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc3RyaXBlZEV2ZW5Db2xvciB8fFxuICAgICAgICAgICAgICAgICAgICBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfU1RSSVBFRF9FVkVOX1JPV19DT0xPUjtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudFN0cmlwZWRSb3dUZXh0Q29sb3IgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc3RyaXBlZEV2ZW5UZXh0Q29sb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1JPV19URVhUX0NPTE9SO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT2RkUm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudFN0cmlwZWRSb3dCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc3RyaXBlZE9kZENvbG9yIHx8XG4gICAgICAgICAgICAgICAgICAgIENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQuREVGQVVMVF9TVFJJUEVEX09ERF9ST1dfQ09MT1I7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRTdHJpcGVkUm93VGV4dENvbG9yID0gdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLnN0cmlwZWRPZGRUZXh0Q29sb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1JPV19URVhUX0NPTE9SO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucGFyZW50QWxsb3dzU2VsZWN0ICYmIHRoaXMuc2VsZWN0ZWQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5zZWxlY3RlZFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0Q29sb3IgPSB0aGlzLnNlbGVjdGVkUm93VGV4dENvbG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuaXNQYXJlbnRTdHJpcGVkOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd0JhY2tncm91bmRDb2xvciA9IHRoaXMucGFyZW50U3RyaXBlZFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0Q29sb3IgPSB0aGlzLnBhcmVudFN0cmlwZWRSb3dUZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRIZWlnaHQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0xlZnRNb3VzZUJ1dHRvbihldmVudDogTW91c2VFdmVudCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBidXR0b246IG51bWJlciA9IGV2ZW50LmJ1dHRvbjtcbiAgICAgICAgY29uc3Qgd2hpY2g6IG51bWJlciA9IGV2ZW50Wyd3aGljaCddO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSA8SFRNTEVsZW1lbnQ+KGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuXG4gICAgICAgIGlmIChbJ1RSJywgJ1REJ10uaW5kZXhPZih0YXJnZXQudGFnTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgaWYgKCdidXR0b24nIGluIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbiA9PT0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh3aGljaCB8fCBidXR0b24pID09PSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ21vdXNlZG93bicsIFsnJGV2ZW50J10pXG4gICAgbW91c2Vkb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIC8vIGhhbmRsZSBvbmx5IGlmIHRoZSBMZWZ0IG1vdXNlIGJ1dHRvbiBwcmVzc2VkXG4gICAgICAgIC8vIGFuZCB0aGUgcm93IGlzIGEgYm9keSByb3dcbiAgICAgICAgaWYgKHRoaXMuaXNMZWZ0TW91c2VCdXR0b24oZXZlbnQpICYmIHRoaXMuaXNCb2R5Um93KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLm5vVGV4dFNlbGVjdCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc0JvZHlSb3cpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRBbGxvd3NTZWxlY3QgJiYgIXRoaXMucGFyZW50QWxsb3dzRGVzZWxlY3RpbmdSb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldlNlbGVjdGVkUm93cyA9IHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5zZWxlY3RlZFJvd3M7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5jbGVhclNlbGVjdGVkUm93cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuZGVzZWxlY3RBbGxSb3dzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5hY3RpdmVSb3dCYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0Q29sb3IgPSB0aGlzLmFjdGl2ZVJvd1RleHRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ21vdXNldXAnLCBbJyRldmVudCddKVxuICAgIG1vdXNldXAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgLy8gaGFuZGxlIG9ubHkgaWYgdGhlIExlZnQgbW91c2UgYnV0dG9uIHByZXNzZWRcbiAgICAgICAgLy8gYW5kIHRoZSByb3cgaXMgYSBib2R5IHJvd1xuICAgICAgICBpZiAodGhpcy5pc0xlZnRNb3VzZUJ1dHRvbihldmVudCkgJiYgdGhpcy5pc0JvZHlSb3cpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudEFsbG93c1NlbGVjdCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnRBbGxvd3NEZXNlbGVjdGluZ1Jvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLnNlbGVjdFJvdyh0aGlzLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZHJhZ1NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbih0aGlzLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2sgcm93IHN0YXRlXG4gICAgICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUudXBkYXRlVGFibGUoKTtcbiAgICAgICAgICAgIC8qc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IGFsbG93cyBzZWxlY3Rpbmcgcm93cyBhbmQgdGhlIHJvdyBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wYXJlbnRBbGxvd3NTZWxlY3QgJiYgdGhpcy5zZWxlY3RlZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnNlbGVjdGVkUm93QmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRDb2xvciA9IHRoaXMuc2VsZWN0ZWRSb3dUZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS51cGRhdGVUYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBoaWdobGlnaHRlZFxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5pc1BhcmVudEhpZ2hsaWdodDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dCYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLnBhcmVudEhpZ2hsaWdodFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0Q29sb3IgPSB0aGlzLnBhcmVudEhpZ2hsaWdodFJvd1RleHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXBlZFxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5pc1BhcmVudFN0cmlwZWQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5wYXJlbnRTdHJpcGVkUm93QmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRDb2xvciA9IHRoaXMucGFyZW50U3RyaXBlZFJvd1RleHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dCYWNrZ3JvdW5kQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dENvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAvLyBzZWxlY3QgbXVsdGlwbGUgcm93cyB1c2luZyB0aGUgJ1NoaWZ0JyBrZXlcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudEFsbG93c1NlbGVjdCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50QWxsb3dzU2VsZWN0TXVsdGlwbGVSb3dzICYmXG4gICAgICAgICAgICAgICAgZXZlbnQgIT0gbnVsbCAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXZTZWxlY3RlZFJvd3MgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZTZWxlY3RlZFJvd3MubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VTZWxlY3RlZFJvd3MgPSB0aGlzLnByZXZTZWxlY3RlZFJvd3MuY29uY2F0KHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5zZWxlY3RlZFJvd3MpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZVNlbGVjdGVkUm93cy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Um93SW5kZXggPSBNYXRoLm1pbi5hcHBseShudWxsLCByYW5nZVNlbGVjdGVkUm93cyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RSb3dJbmRleCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHJhbmdlU2VsZWN0ZWRSb3dzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc2VsZWN0Um93cyhmaXJzdFJvd0luZGV4LCBsYXN0Um93SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IGRyYWdTZWxlY3Rpb24gZmxhZyB0byBmYWxzZS4gUHJldmVudHMgc2VsZWN0aW9uIGRyYWcgYmVoYXZpb3JcbiAgICAgICAgICAgIHRoaXMuZHJhZ1NlbGVjdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBmb2N1cyB0aGUgY29sbGFwc2libGUgdGFibGVcbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2VlbnRlcicsIFsnJGV2ZW50J10pXG4gICAgbW91c2VlbnRlcihldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBoYW5kbGUgb25seSBpZiB0aGUgcm93IGlzIGEgYm9keSByb3dcbiAgICAgICAgaWYgKHRoaXMuaXNCb2R5Um93KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlIGlzIHRyeWluZyB0byBzZWxlY3QgbXVsdGlwbGUgcm93cyBieSBob2xkaW5nIGEgbW91c2UgYnV0dG9uXG4gICAgICAgICAgICAgICAgY2FzZSB0aGlzLnBhcmVudEFsbG93c1NlbGVjdCAmJiB0aGlzLnBhcmVudEFsbG93c1NlbGVjdE11bHRpcGxlUm93cyAmJiB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUubW91c2VEb3duSG9sZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb2xsYXBzaWJsZVRhYmxlLnNlbGVjdFJvdyh0aGlzLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IGFsbG93cyBzZWxlY3Rpbmcgcm93cyBhbmQgdGhlIHJvdyBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wYXJlbnRBbGxvd3NTZWxlY3QgJiYgdGhpcy5zZWxlY3RlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gaGlnaGxpZ2h0ZWRcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuaXNQYXJlbnRIaWdobGlnaHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5wYXJlbnRIaWdobGlnaHRSb3dCYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dENvbG9yID0gdGhpcy5wYXJlbnRIaWdobGlnaHRSb3dUZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2VsZWF2ZScsIFsnJGV2ZW50J10pXG4gICAgbW91c2VsZWF2ZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAvLyBoYW5kbGUgb25seSBpZiB0aGUgcm93IGlzIGEgYm9keSByb3dcbiAgICAgICAgaWYgKHRoaXMuaXNCb2R5Um93KSB7XG4gICAgICAgICAgICAvLyBjaGVjayByb3cgc3RhdGVcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSB1c2UgaXMgdHJ5aW5nIHRvIHNlbGVjdCBtdWx0aXBsZSByb3dzIGJ5IGhvbGRpbmcgYSBtb3VzZSBidXR0b25cbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMucGFyZW50QWxsb3dzU2VsZWN0ICYmIHRoaXMucGFyZW50QWxsb3dzU2VsZWN0TXVsdGlwbGVSb3dzICYmIHRoaXMucGFyZW50Q29sbGFwc2libGVUYWJsZS5tb3VzZURvd25Ib2xkOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudENvbGxhcHNpYmxlVGFibGUuc2VsZWN0Um93KHRoaXMuaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYWdTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gcGFyZW50IGFsbG93cyBzZWxlY3Rpbmcgcm93cyBhbmQgdGhlIHJvdyBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIGNhc2UgdGhpcy5wYXJlbnRBbGxvd3NTZWxlY3QgJiYgdGhpcy5zZWxlY3RlZDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gc3RyaXBwZWRcbiAgICAgICAgICAgICAgICBjYXNlIHRoaXMuaXNQYXJlbnRTdHJpcGVkOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd0JhY2tncm91bmRDb2xvciA9IHRoaXMucGFyZW50U3RyaXBlZFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0Q29sb3IgPSB0aGlzLnBhcmVudFN0cmlwZWRSb3dUZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93QmFja2dyb3VuZENvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRDb2xvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXG4gICAgY2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IDxIVE1MRWxlbWVudD4oZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgZXZlbnQuY3VycmVudFRhcmdldCk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCAmJiBbJ1RSJywgJ1REJ10uaW5kZXhPZih0YXJnZXQudGFnTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsLnN1YmplY3QubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBPbkluaXQsIE9uQ2hhbmdlcywgU2ltcGxlQ2hhbmdlcywgQWZ0ZXJDb250ZW50SW5pdCxcbiAgICBJbnB1dCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lcixcbiAgICBFbGVtZW50UmVmLCBDb250ZW50Q2hpbGRyZW5cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQgfSBmcm9tICcuLi9jb2xsYXBzaWJsZS10YWJsZS1yb3cvY29sbGFwc2libGUtdGFibGUtcm93LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdjb2xsYXBzaWJsZS10YWJsZScsXG4gICAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YCxcbiAgICBzdHlsZXM6IFtgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QgdGhlYWQge1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkMGQwZDA7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdCAvZGVlcC8gdGJvZHkgL2RlZXAvIGNvbGxhcHNpYmxlLXRhYmxlLXJvdyB7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdCAvZGVlcC8gY29sbGFwc2libGUtdGFibGUtcm93IHRoLFxuICAgICAgICA6aG9zdCAvZGVlcC8gY29sbGFwc2libGUtdGFibGUtcm93IHRkIHtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDA7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdFtib3JkZXJlZD0ndHJ1ZSddIHtcbiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2QwZDBkMDtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2QwZDBkMDtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0W2JvcmRlcmVkPSd0cnVlJ10gL2RlZXAvIGNvbGxhcHNpYmxlLXRhYmxlLXJvdyxcbiAgICAgICAgOmhvc3RbYm9yZGVyZWRIb3Jpem9udGFsbHk9J3RydWUnXSAvZGVlcC8gY29sbGFwc2libGUtdGFibGUtcm93IHtcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDBkMGQwO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3RbYm9yZGVyZWQ9J3RydWUnXSAvZGVlcC8gY29sbGFwc2libGUtdGFibGUtcm93IHRoLFxuICAgICAgICA6aG9zdFtib3JkZXJlZD0ndHJ1ZSddIC9kZWVwLyBjb2xsYXBzaWJsZS10YWJsZS1yb3cgdGQsXG4gICAgICAgIDpob3N0W2JvcmRlcmVkVmVydGljYWxseT0ndHJ1ZSddIC9kZWVwLyBjb2xsYXBzaWJsZS10YWJsZS1yb3cgdGg6bm90KDpsYXN0LWNoaWxkKSxcbiAgICAgICAgOmhvc3RbYm9yZGVyZWRWZXJ0aWNhbGx5PSd0cnVlJ10gL2RlZXAvIGNvbGxhcHNpYmxlLXRhYmxlLXJvdyB0ZDpub3QoOmxhc3QtY2hpbGQpIHtcbiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkMGQwZDA7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdCguY2VudGVyZWQpIC9kZWVwLyAqIHtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KC5ub1RleHRTZWxlY3QpIC9kZWVwLyBjb2xsYXBzaWJsZS10YWJsZS1yb3cgdGgsXG4gICAgICAgIDpob3N0KC5ub1RleHRTZWxlY3QpIC9kZWVwLyBjb2xsYXBzaWJsZS10YWJsZS1yb3cgdGQge1xuICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIH1cbiAgICBgXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgQ29sbGFwc2libGVTZXJ2aWNlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZVRhYmxlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIEFmdGVyQ29udGVudEluaXQge1xuICAgIC8vIGNvbXBvbmVudCBvcHRpb25zXG4gICAgLy9cbiAgICAvLyBtYWtlcyB0aGUgdGFibGUgYm9yZGVyZWRcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5ib3JkZXJlZCcpIGJvcmRlcmVkOiBib29sZWFuO1xuXG4gICAgLy8gbWFrZXMgdGhlIHRhYmxlIGJvcmRlcmVkIGhvcml6b250YWxseSBvbmx5XG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuYm9yZGVyZWRIb3Jpem9udGFsbHknKSBib3JkZXJlZEhvcml6b250YWxseTogYm9vbGVhbjtcblxuICAgIC8vIG1ha2VzIHRoZSB0YWJsZSBib3JkZXJlZCB2ZXJ0aWNhbGx5IG9ubHlcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5ib3JkZXJlZFZlcnRpY2FsbHknKSBib3JkZXJlZFZlcnRpY2FsbHk6IGJvb2xlYW47XG5cbiAgICAvLyBtYWtlcyB0aGUgdGFibGUgc3RyaXBlZFxuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLnN0cmlwZWQnKSBzdHJpcGVkOiBib29sZWFuO1xuXG4gICAgLy8gYSBjb2xvciBvZiBhbiBvZGQgc3RyaXBlZCByb3dcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5zdHJpcGVkT2RkQ29sb3InKSBzdHJpcGVkT2RkQ29sb3I6IHN0cmluZztcblxuICAgIC8vIGEgdGV4dCBjb2xvciBvZiBhbiBvZGQgc3RyaXBlZCByb3dcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5zdHJpcGVkT2RkVGV4dENvbG9yJykgc3RyaXBlZE9kZFRleHRDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8gYSBjb2xvciBvZiBhbiBldmVuIHN0cmlwZWQgcm93XG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuc3RyaXBlZEV2ZW5Db2xvcicpIHN0cmlwZWRFdmVuQ29sb3I6IHN0cmluZztcblxuICAgIC8vIGEgdGV4dCBjb2xvciBvZiBhbiBldmVuIHN0cmlwZWQgcm93XG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuc3RyaXBlZEV2ZW5UZXh0Q29sb3InKSBzdHJpcGVkRXZlblRleHRDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8gaGlnaGxpZ2h0IHRhYmxlIHJvd3Mgb24gbW91c2UgaG92ZXJcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5oaWdobGlnaHQnKSBoaWdobGlnaHQ6IGJvb2xlYW47XG5cbiAgICAvLyBhIGNvbG9yIG9mIGEgaGlnaGxpZ2h0ZWQgcm93XG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuaGlnaGxpZ2h0Q29sb3InKSBoaWdobGlnaHRDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8gYSB0ZXh0IGNvbG9yIG9mIGEgaGlnaGxpZ2h0ZWQgcm93XG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuaGlnaGxpZ2h0VGV4dENvbG9yJykgaGlnaGxpZ2h0VGV4dENvbG9yOiBzdHJpbmc7XG5cbiAgICAvLyBhIGNvbG9yIG9mIGFuIGFjdGl2ZSByb3dcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5hY3RpdmVDb2xvcicpIGFjdGl2ZUNvbG9yOiBzdHJpbmc7XG5cbiAgICAvLyBhIHRleHQgY29sb3Igb2YgYW4gYWN0aXZlIHJvd1xuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLmFjdGl2ZVRleHRDb2xvcicpIGFjdGl2ZVRleHRDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8gY2VudGVyIGFsaWduIGFsbCB0aGUgdGV4dCBpbiB0aGUgdGFibGVcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuY2VudGVyZWQnKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5jZW50ZXJlZCcpIGNlbnRlcmVkOiBib29sZWFuO1xuXG4gICAgLy8gbWFrZXMgdGhlIHRhYmxlIGhvcml6b250YWxseSBzY3JvbGxhYmxlIG9uIHNtYWxsZXIgc2NyZWVuIHdpZHRoc1xuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLnJlc3BvbnNpdmUnKSByZXNwb25zaXZlOiBib29sZWFuO1xuXG4gICAgLy8gYWxsb3dzIHRvIHNlbGVjdCByb3dzXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuc2VsZWN0Jykgc2VsZWN0OiBib29sZWFuO1xuXG4gICAgLy8gYWxsb3dzIHRvIHNlbGVjdCBtdWx0aXBsZSByb3dzXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIuc2VsZWN0TXVsdGlwbGVSb3dzJykgc2VsZWN0TXVsdGlwbGVSb3dzOiBib29sZWFuO1xuXG4gICAgLy8gYSBjb2xvciBvZiBhIHNlbGVjdGVkIHJvd1xuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLnNlbGVjdENvbG9yJykgc2VsZWN0Q29sb3I6IHN0cmluZztcblxuICAgIC8vIGEgdGV4dCBjb2xvciBvZiBhIHNlbGVjdGVkIHJvd1xuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLnNlbGVjdFRleHRDb2xvcicpIHNlbGVjdFRleHRDb2xvcjogc3RyaW5nO1xuXG4gICAgLy8gYWxsb3dzIGRlc2VsZWN0aW5nIHNlbGVjdGVkIHJvd3NcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5hbGxvd0Rlc2VsZWN0aW5nUm93cycpIGFsbG93RGVzZWxlY3RpbmdSb3dzOiBib29sZWFuO1xuXG4gICAgLy8gYWxsb3dzIG5hdmlnYXRpb24gYmV0d2VlbiB0YWJsZSByb3dzIHVzaW5nIGFycm93IGtleXNcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnYXR0ci5hbGxvd0tleWJvYXJkTmF2aWdhdGlvbicpXG4gICAgYWxsb3dLZXlib2FyZE5hdmlnYXRpb24gPSB0cnVlO1xuXG4gICAgLy8gZGlzYWJsZXMgdXNlciBzZWxlY3Qgd2l0aGluZyB0aGUgdGFibGVcbiAgICBASW5wdXQoKVxuICAgIEBIb3N0QmluZGluZygnY2xhc3Mubm9UZXh0U2VsZWN0JylcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIubm9UZXh0U2VsZWN0Jykgbm9UZXh0U2VsZWN0OiBib29sZWFuO1xuXG4gICAgZml4ZWRUYWJsZUhlaWdodCA9ICdhdXRvJztcblxuICAgIEBIb3N0QmluZGluZygnYXR0ci50YWJpbmRleCcpIHRhYmluZGV4ID0gMDtcblxuICAgIHNlbGVjdGVkUm93czogQXJyYXk8bnVtYmVyPiA9IFtdO1xuXG4gICAgLy8gc3BlY2lmaWVzIGNvbGxhcHNpYmxlIHR5cGUuIENhbiBiZSBlaXRoZXIgJ2FjY29yZGlvbicgb3IgJ2V4cGFuZGFibGUnXG4gICAgQElucHV0KClcbiAgICBASG9zdEJpbmRpbmcoJ2F0dHIudHlwZScpIHR5cGU6ICdhY2NvcmRpb24nIHwgJ2V4cGFuZGFibGUnID0gJ2FjY29yZGlvbic7XG5cbiAgICBAQ29udGVudENoaWxkcmVuKENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQpIGNvbGxhcHNpYmxlVGFibGVSb3dzOiBBcnJheTxDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50PjtcblxuICAgIG1vdXNlRG93bkhvbGQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGVsOiBFbGVtZW50UmVmLFxuICAgICAgICBwcml2YXRlIGNvbGxhcHNpYmxlU2VydmljZTogQ29sbGFwc2libGVTZXJ2aWNlKSB7IH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgLy8gdGhpcy51cGRhdGVGaXhlZFRhYmxlSGVpZ2h0KCk7XG4gICAgICAgIC8qXG4gICAgICAgIExPRyhgQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudDo6bmdPbkluaXQoKVxcbmAgK1xuICAgICAgICAgICAgYHRoaXMgPSB7XFxuYCArXG4gICAgICAgICAgICBgYm9yZGVyZWQgPSAke3RoaXMuYm9yZGVyZWR9XFxuYCArXG4gICAgICAgICAgICBgYm9yZGVyZWRIb3Jpem9udGFsbHkgPSAke3RoaXMuYm9yZGVyZWRIb3Jpem9udGFsbHl9XFxuYCArXG4gICAgICAgICAgICBgYm9yZGVyZWRWZXJ0aWNhbGx5ID0gJHt0aGlzLmJvcmRlcmVkVmVydGljYWxseX1cXG5gICtcbiAgICAgICAgICAgIGBzdHJpcGVkID0gJHt0aGlzLnN0cmlwZWR9XFxuYCArXG4gICAgICAgICAgICBgc3RyaXBlZE9kZENvbG9yID0gJHt0aGlzLnN0cmlwZWRPZGRDb2xvcn1cXG5gICtcbiAgICAgICAgICAgIGBzdHJpcGVkRXZlbkNvbG9yID0gJHt0aGlzLnN0cmlwZWRFdmVuQ29sb3J9XFxuYCArXG4gICAgICAgICAgICBgaGlnaGxpZ2h0ID0gJHt0aGlzLmhpZ2hsaWdodH1cXG5gICtcbiAgICAgICAgICAgIGBoaWdobGlnaHRDb2xvciA9ICR7dGhpcy5oaWdobGlnaHRDb2xvcn1cXG5gICtcbiAgICAgICAgICAgIGBoaWdobGlnaHRUZXh0Q29sb3IgPSAke3RoaXMuaGlnaGxpZ2h0VGV4dENvbG9yfVxcbmAgK1xuICAgICAgICAgICAgYGFjdGl2ZUNvbG9yID0gJHt0aGlzLmFjdGl2ZUNvbG9yfVxcbmAgK1xuICAgICAgICAgICAgYGFjdGl2ZVRleHRDb2xvciA9ICR7dGhpcy5hY3RpdmVUZXh0Q29sb3J9XFxuYCArXG4gICAgICAgICAgICBgY2VudGVyZWQgPSAke3RoaXMuY2VudGVyZWR9XFxuYCArXG4gICAgICAgICAgICBgcmVzcG9uc2l2ZSA9ICR7dGhpcy5yZXNwb25zaXZlfVxcbmAgK1xuICAgICAgICAgICAgYHNlbGVjdCA9ICR7dGhpcy5zZWxlY3R9XFxuYCArXG4gICAgICAgICAgICBgc2VsZWN0Q29sb3IgPSAke3RoaXMuc2VsZWN0Q29sb3J9XFxuYCArXG4gICAgICAgICAgICBgc2VsZWN0VGV4dENvbG9yID0gJHt0aGlzLnNlbGVjdFRleHRDb2xvcn1cXG5gICtcbiAgICAgICAgICAgIGBzZWxlY3RNdWx0aXBsZVJvd3MgPSAke3RoaXMuc2VsZWN0TXVsdGlwbGVSb3dzfVxcbmAgK1xuICAgICAgICAgICAgYG5vVGV4dFNlbGVjdCA9ICR7dGhpcy5ub1RleHRTZWxlY3R9XFxuYCArXG4gICAgICAgICAgICBgfWApO1xuICAgICAgICAgICAgKi9cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgIGZvciAoY29uc3QgY2hhbmdlIGluIGNoYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VzLmhhc093blByb3BlcnR5KGNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJpcGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmlwZWRPZGRDb2xvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHJpcGVkT2RkVGV4dENvbG9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmlwZWRFdmVuQ29sb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaXBlZEV2ZW5UZXh0Q29sb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFibGUoJ3N0cmlwZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hpZ2hsaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoaWdobGlnaHRDb2xvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoaWdobGlnaHRUZXh0Q29sb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFibGUoJ2hpZ2hsaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlQ29sb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlVGV4dENvbG9yJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3RDb2xvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3RUZXh0Q29sb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2VsZWN0TXVsdGlwbGVSb3dzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FsbG93RGVzZWxlY3RpbmdSb3dzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlKCdzZWxlY3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBjb2xsYXBzaWJsZSB0YWJsZSB0eXBlIGluIENvbGxhcHNpYmxlU2VydmljZVxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UgPT09ICd0eXBlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBjaGFuZ2VzLnR5cGUuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNpYmxlU2VydmljZS5zZXRUeXBlKHRoaXMudHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGFwc2libGVTZXJ2aWNlLnNldENvbGxhcHNpYmxlVGFibGUodGhpcyk7XG4gICAgfVxuXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIGFkZFNlbGVjdGVkUm93KGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMuc2VsZWN0TXVsdGlwbGVSb3dzICYmIHRoaXMuc2VsZWN0ZWRSb3dzLmluZGV4T2YoaW5kZXgpID09PSAtMTpcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICF0aGlzLnNlbGVjdE11bHRpcGxlUm93czpcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzZWxlY3RBbGxSb3dzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3Muc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlU2VsZWN0ZWRSb3coaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvd3MuaW5kZXhPZihpbmRleCkgIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UodGhpcy5zZWxlY3RlZFJvd3MuaW5kZXhPZihpbmRleCksIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJTZWxlY3RlZFJvd3MoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzID0gW107XG4gICAgfVxuXG4gICAgZGVzZWxlY3RBbGxSb3dzKCkge1xuICAgICAgICB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHJvdy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcm93LnVwZGF0ZVJvdygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWxlY3RSb3coaW5kZXg6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3QpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgaW5kZXggPT09IDA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Um93KDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIGluZGV4ID09PSB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmxlbmd0aDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RSb3codGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAwIDwgaW5kZXggJiYgaW5kZXggPD0gdGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5sZW5ndGggLSAxOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbGVjdGVkUm93KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RNdWx0aXBsZVJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LnVwZGF0ZVJvdygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHNlbGVjdFJvd3MoZmlyc3RSb3dJbmRleDogbnVtYmVyLCBsYXN0Um93SW5kZXg6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RNdWx0aXBsZVJvd3MgJiZcbiAgICAgICAgICAgIDAgPCBmaXJzdFJvd0luZGV4ICYmIGZpcnN0Um93SW5kZXggPCBsYXN0Um93SW5kZXggJiZcbiAgICAgICAgICAgIGxhc3RSb3dJbmRleCA8PSB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2libGVUYWJsZVJvd3MuZm9yRWFjaCgocm93LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Um93SW5kZXggPD0gaSAmJiBpIDw9IGxhc3RSb3dJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbGVjdGVkUm93KGkpO1xuICAgICAgICAgICAgICAgICAgICByb3cuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3cudXBkYXRlUm93KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvZ2dsZVJvd1NlbGVjdGlvbihpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdCAmJlxuICAgICAgICAgICAgMCA8IGluZGV4ICYmIGluZGV4IDw9IHRoaXMuY29sbGFwc2libGVUYWJsZVJvd3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5mb3JFYWNoKChyb3csIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTZWxlY3RlZFJvdyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFNlbGVjdGVkUm93KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3cuc2VsZWN0ZWQgPSAhcm93LnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICByb3cudXBkYXRlUm93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKnVwZGF0ZUZpeGVkVGFibGVIZWlnaHQoKSB7XG4gICAgICAgIHRoaXMuZml4ZWRUYWJsZUhlaWdodCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgICBsZXQgZWxlbTogRWxlbWVudCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudDtcbiAgICAgICAgbGV0IHJvd0hlaWdodHMgPSAwO1xuICAgICAgICBpZiAodGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0qL1xuXG4gICAgdXBkYXRlU3RyaXBlZChyb3c6IENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc3RyaXBlZCAmJiByb3cuaXNCb2R5Um93KSB7XG4gICAgICAgICAgICByb3cuaXNQYXJlbnRTdHJpcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChyb3cuaXNPZGRSb3cpIHtcbiAgICAgICAgICAgICAgICByb3cucGFyZW50U3RyaXBlZFJvd0JhY2tncm91bmRDb2xvciA9IHRoaXMuc3RyaXBlZE9kZENvbG9yIHx8IENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQuREVGQVVMVF9TVFJJUEVEX09ERF9ST1dfQ09MT1I7XG4gICAgICAgICAgICAgICAgcm93LnBhcmVudFN0cmlwZWRSb3dUZXh0Q29sb3IgPSB0aGlzLnN0cmlwZWRPZGRUZXh0Q29sb3IgfHwgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1JPV19URVhUX0NPTE9SO1xuICAgICAgICAgICAgICAgIHJvdy5yb3dCYWNrZ3JvdW5kQ29sb3IgPSByb3cucGFyZW50U3RyaXBlZFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICByb3cucm93VGV4dENvbG9yID0gcm93LnBhcmVudFN0cmlwZWRSb3dUZXh0Q29sb3I7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdy5wYXJlbnRTdHJpcGVkUm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5zdHJpcGVkRXZlbkNvbG9yIHx8IENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQuREVGQVVMVF9TVFJJUEVEX0VWRU5fUk9XX0NPTE9SO1xuICAgICAgICAgICAgICAgIHJvdy5wYXJlbnRTdHJpcGVkUm93VGV4dENvbG9yID0gdGhpcy5zdHJpcGVkRXZlblRleHRDb2xvciB8fCBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfUk9XX1RFWFRfQ09MT1I7XG4gICAgICAgICAgICAgICAgcm93LnJvd0JhY2tncm91bmRDb2xvciA9IHJvdy5wYXJlbnRTdHJpcGVkUm93QmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgIHJvdy5yb3dUZXh0Q29sb3IgPSByb3cucGFyZW50U3RyaXBlZFJvd1RleHRDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvdy5pc1BhcmVudFN0cmlwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJvdy5yb3dCYWNrZ3JvdW5kQ29sb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICByb3cucm93VGV4dENvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KHJvdzogQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICByb3cuaXNQYXJlbnRIaWdobGlnaHQgPSB0aGlzLmhpZ2hsaWdodDtcbiAgICAgICAgcm93LnBhcmVudEhpZ2hsaWdodFJvd0JhY2tncm91bmRDb2xvciA9IHRoaXMuaGlnaGxpZ2h0Q29sb3IgfHwgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX0hJR0hMSUdIVF9ST1dfQ09MT1I7XG4gICAgICAgIHJvdy5wYXJlbnRIaWdobGlnaHRSb3dUZXh0Q29sb3IgPSB0aGlzLmhpZ2hsaWdodFRleHRDb2xvciB8fCBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfUk9XX1RFWFRfQ09MT1I7XG4gICAgfVxuXG4gICAgdXBkYXRlQWN0aXZlKHJvdzogQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudCk6IHZvaWQge1xuICAgICAgICByb3cuYWN0aXZlUm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5hY3RpdmVDb2xvciB8fCBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfQUNUSVZFX1JPV19DT0xPUjtcbiAgICAgICAgcm93LmFjdGl2ZVJvd1RleHRDb2xvciA9IHRoaXMuYWN0aXZlVGV4dENvbG9yIHx8IENvbGxhcHNpYmxlVGFibGVSb3dDb21wb25lbnQuREVGQVVMVF9ST1dfVEVYVF9DT0xPUjtcbiAgICB9XG5cbiAgICB1cGRhdGVTZWxlY3Qocm93OiBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50KTogdm9pZCB7XG4gICAgICAgIHJvdy5wYXJlbnRBbGxvd3NTZWxlY3QgPSB0aGlzLnNlbGVjdDtcbiAgICAgICAgcm93LnBhcmVudEFsbG93c1NlbGVjdE11bHRpcGxlUm93cyA9IHRoaXMuc2VsZWN0TXVsdGlwbGVSb3dzO1xuICAgICAgICByb3cucGFyZW50QWxsb3dzRGVzZWxlY3RpbmdSb3dzID0gdGhpcy5hbGxvd0Rlc2VsZWN0aW5nUm93cztcbiAgICAgICAgaWYgKHJvdy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgcm93LnNlbGVjdGVkUm93QmFja2dyb3VuZENvbG9yID0gdGhpcy5zZWxlY3RDb2xvciB8fCBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LkRFRkFVTFRfU0VMRUNURURfUk9XX0NPTE9SO1xuICAgICAgICAgICAgcm93LnNlbGVjdGVkUm93VGV4dENvbG9yID0gdGhpcy5zZWxlY3RUZXh0Q29sb3IgfHwgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudC5ERUZBVUxUX1JPV19URVhUX0NPTE9SO1xuICAgICAgICAgICAgcm93LnJvd0JhY2tncm91bmRDb2xvciA9IHJvdy5zZWxlY3RlZFJvd0JhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIHJvdy5yb3dUZXh0Q29sb3IgPSByb3cuc2VsZWN0ZWRSb3dUZXh0Q29sb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUYWJsZShjaGFuZ2U/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuY29sbGFwc2libGVUYWJsZVJvd3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RyaXBlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGUgY2hhbmdlcyB0byBlYWNoIG9mIHRoZSBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50IGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmZvckVhY2gocm93ID0+IHsgdGhpcy51cGRhdGVTdHJpcGVkKHJvdyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hpZ2hsaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmZvckVhY2gocm93ID0+IHsgdGhpcy51cGRhdGVIaWdobGlnaHQocm93KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWN0aXZlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2libGVUYWJsZVJvd3MuZm9yRWFjaChyb3cgPT4geyB0aGlzLnVwZGF0ZUFjdGl2ZShyb3cpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5mb3JFYWNoKHJvdyA9PiB7IHRoaXMudXBkYXRlU2VsZWN0KHJvdyk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBwcm9wYWdhdGUgY2hhbmdlcyB0byBlYWNoIG9mIHRoZSBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50IGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVRhYmxlUm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RyaXBlZChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhpZ2hsaWdodChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZShyb3cpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcigna2V5ZG93bicsIFsnJGV2ZW50J10pXG4gICAga2V5ZG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICAvLyBzZWxlY3QgYSByb3cgb25seSBpZiAnc2VsZWN0JyBwcm9wZXJ0eSBpcyBzZXQgdG8gJ3RydWUnXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdCAmJiB0aGlzLmFsbG93S2V5Ym9hcmROYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBlbnVtIEtleSB7XG4gICAgICAgICAgICAgICAgYXJyb3dVcCA9IDM4LFxuICAgICAgICAgICAgICAgIGFycm93RG93biA9IDQwLFxuICAgICAgICAgICAgICAgIGhvbWUgPSAzNixcbiAgICAgICAgICAgICAgICBlbmQgPSAzNVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaW5kZXggPSAxO1xuICAgICAgICAgICAgY29uc3Qgd2hpY2hLZXkgPSBldmVudFsnd2hpY2gnXTtcbiAgICAgICAgICAgIGlmIChLZXlbd2hpY2hLZXldICE9IG51bGwpIHtcblxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHdoaWNoS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5LmFycm93VXA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3QgcHJldmlvdXMgcm93XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5zZWxlY3RlZFJvd3NbdGhpcy5zZWxlY3RlZFJvd3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIEtleS5hcnJvd0Rvd246XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWxlY3QgbmV4dCByb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLnNlbGVjdGVkUm93c1t0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgS2V5LmhvbWU6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBLZXkuZW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLmNvbGxhcHNpYmxlVGFibGVSb3dzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXNlbGVjdEFsbFJvd3MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFJvdyhpbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2Vkb3duJylcbiAgICBtb3VzZWRvd24oKSB7XG4gICAgICAgIHRoaXMubW91c2VEb3duSG9sZCA9IHRydWU7XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignbW91c2V1cCcpXG4gICAgbW91c2V1cCgpIHtcbiAgICAgICAgdGhpcy5tb3VzZURvd25Ib2xkID0gZmFsc2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT25Jbml0LCBBZnRlclZpZXdJbml0LFxuICAgIElucHV0LFxuICAgIFZpZXdDaGlsZHJlblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQ29sbGFwc2libGVCb2R5Q29tcG9uZW50IH0gZnJvbSAnLi4vY29sbGFwc2libGUtYm9keS9jb2xsYXBzaWJsZS1ib2R5LmNvbXBvbmVudCc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbGxhcHNpYmxlLnNlcnZpY2UnO1xuXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnY29sbGFwc2libGUtdGFibGUtcm93LWRldGFpbCcsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPHRkIGNvbHNwYW49XCIxMDAlXCI+XG4gICAgICAgICAgICA8Y29sbGFwc2libGUtbGlzdC1pdGVtPlxuICAgICAgICAgICAgICAgIDxjb2xsYXBzaWJsZS1ib2R5PlxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9jb2xsYXBzaWJsZS1ib2R5PlxuICAgICAgICAgICAgPC9jb2xsYXBzaWJsZS1saXN0LWl0ZW0+XG4gICAgICAgIDwvdGQ+XG4gICAgYCxcbiAgICBzdHlsZXM6IFtgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRhYmxlLXJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0IGNvbGxhcHNpYmxlLWJvZHksXG4gICAgICAgIDpob3N0IHRkIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIH1cbiAgICBgXVxufSlcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZVRhYmxlUm93RGV0YWlsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgICBzdWJqZWN0OiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdDxhbnk+KCk7XG5cbiAgICBASW5wdXQoKSBleHBhbmRlZDogYm9vbGVhbjtcblxuICAgIEBWaWV3Q2hpbGRyZW4oQ29sbGFwc2libGVCb2R5Q29tcG9uZW50KSB2aWV3TGlzdEJvZGllczogQXJyYXk8Q29sbGFwc2libGVCb2R5Q29tcG9uZW50PjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29sbGFwc2libGVTZXJ2aWNlOiBDb2xsYXBzaWJsZVNlcnZpY2UpIHsgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuc3ViamVjdC5hc09ic2VydmFibGUoKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3TGlzdEJvZGllcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaXRlbS50b2dnbGVDb2xsYXBzaWJsZUl0ZW0oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIC8vIHN0b3JlIGxpc3QgYm9kaWVzIGluICdDb2xsYXBzaWJsZVNlcnZpY2UnXG4gICAgICAgIHRoaXMudmlld0xpc3RCb2RpZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZVNlcnZpY2UuYWRkTGlzdEJvZHkoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBDb2xsYXBzaWJsZUxpc3RDb21wb25lbnQgfSBmcm9tICcuL2NvbGxhcHNpYmxlLWxpc3QvY29sbGFwc2libGUtbGlzdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVMaXN0SXRlbUNvbXBvbmVudCB9IGZyb20gJy4vY29sbGFwc2libGUtbGlzdC1pdGVtL2NvbGxhcHNpYmxlLWxpc3QtaXRlbS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29sbGFwc2libGVIZWFkZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbGxhcHNpYmxlLWhlYWRlci9jb2xsYXBzaWJsZS1oZWFkZXIuY29tcG9uZW50JztcbmltcG9ydCB7IENvbGxhcHNpYmxlQm9keUNvbXBvbmVudCB9IGZyb20gJy4vY29sbGFwc2libGUtYm9keS9jb2xsYXBzaWJsZS1ib2R5LmNvbXBvbmVudCc7XG5cbmltcG9ydCB7IENvbGxhcHNpYmxlVGFibGVDb21wb25lbnQgfSBmcm9tICcuL2NvbGxhcHNpYmxlLXRhYmxlL2NvbGxhcHNpYmxlLXRhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50IH0gZnJvbSAnLi9jb2xsYXBzaWJsZS10YWJsZS1yb3cvY29sbGFwc2libGUtdGFibGUtcm93LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb2xsYXBzaWJsZVRhYmxlUm93RGV0YWlsQ29tcG9uZW50IH0gZnJvbSAnLi9jb2xsYXBzaWJsZS10YWJsZS1yb3ctZGV0YWlsL2NvbGxhcHNpYmxlLXRhYmxlLXJvdy1kZXRhaWwuY29tcG9uZW50JztcblxuaW1wb3J0IHsgQ29sbGFwc2libGVTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS5zZXJ2aWNlJztcbmltcG9ydCB7IENvbGxhcHNpYmxlRXZlbnRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9jb2xsYXBzaWJsZS1ldmVudC5zZXJ2aWNlJztcbmltcG9ydCB7IENvbGxhcHNpYmxlQW5pbWF0aW9uc1NlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NvbGxhcHNpYmxlLWFuaW1hdGlvbnMuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgQ29sbGFwc2libGVMaXN0Q29tcG9uZW50LFxuICAgIENvbGxhcHNpYmxlTGlzdEl0ZW1Db21wb25lbnQsXG4gICAgQ29sbGFwc2libGVIZWFkZXJDb21wb25lbnQsXG4gICAgQ29sbGFwc2libGVCb2R5Q29tcG9uZW50LFxuICAgIENvbGxhcHNpYmxlVGFibGVDb21wb25lbnQsXG4gICAgQ29sbGFwc2libGVUYWJsZVJvd0NvbXBvbmVudCxcbiAgICBDb2xsYXBzaWJsZVRhYmxlUm93RGV0YWlsQ29tcG9uZW50XG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBDb2xsYXBzaWJsZUxpc3RDb21wb25lbnQsXG4gICAgQ29sbGFwc2libGVMaXN0SXRlbUNvbXBvbmVudCxcbiAgICBDb2xsYXBzaWJsZUhlYWRlckNvbXBvbmVudCxcbiAgICBDb2xsYXBzaWJsZUJvZHlDb21wb25lbnQsXG4gICAgQ29sbGFwc2libGVUYWJsZUNvbXBvbmVudCxcbiAgICBDb2xsYXBzaWJsZVRhYmxlUm93Q29tcG9uZW50LFxuICAgIENvbGxhcHNpYmxlVGFibGVSb3dEZXRhaWxDb21wb25lbnRcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ29sbGFwc2libGVTZXJ2aWNlLFxuICAgIENvbGxhcHNpYmxlRXZlbnRTZXJ2aWNlLFxuICAgIENvbGxhcHNpYmxlQW5pbWF0aW9uc1NlcnZpY2VcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBDb2xsYXBzaWJsZU1vZHVsZSB7XG4gIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogQ29sbGFwc2libGVNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtDb2xsYXBzaWJsZU1vZHVsZV1cbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOlsiSW5qZWN0YWJsZSIsIlN1YmplY3QiLCJ0cmlnZ2VyIiwic3RhdGUiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJhbmltYXRlIiwiRXZlbnRFbWl0dGVyIiwidHNsaWJfMS5fX3ZhbHVlcyIsIkNvbXBvbmVudCIsIkVsZW1lbnRSZWYiLCJIb3N0QmluZGluZyIsIklucHV0IiwiT3V0cHV0IiwiQ29udGVudENoaWxkcmVuIiwiSG9zdExpc3RlbmVyIiwiRG9tU2FuaXRpemVyIiwiVmlld0NoaWxkcmVuIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiXSwibWFwcGluZ3MiOiI7Ozs7OztJQUFBOzs7Ozs7Ozs7Ozs7OztBQWNBLHNCQTRGeUIsQ0FBQztRQUN0QixJQUFJLENBQUMsR0FBRyxPQUFPLE1BQU0sS0FBSyxVQUFVLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQztZQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixPQUFPO1lBQ0gsSUFBSSxFQUFFO2dCQUNGLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTTtvQkFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7Z0JBQ25DLE9BQU8sRUFBRSxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDO2FBQzNDO1NBQ0osQ0FBQztJQUNOLENBQUM7Ozs7OztBQ25IRDs7MkJBV2lELElBQUksS0FBSyxFQUE4QjswQkFDMUMsSUFBSSxLQUFLLEVBQTRCOzs7OztRQUUvRSxvQ0FBTzs7O1lBQVA7Z0JBQ0ksT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQ3BCOzs7OztRQUVELG9DQUFPOzs7O1lBQVAsVUFBUSxJQUFnQztnQkFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7YUFDcEI7Ozs7UUFFRCxnREFBbUI7OztZQUFuQjtnQkFDSSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzthQUNoQzs7Ozs7UUFFRCxnREFBbUI7Ozs7WUFBbkIsVUFBb0IsS0FBZ0M7Z0JBQ2hELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7YUFDakM7Ozs7O1FBRUQsMENBQWE7Ozs7WUFBYixVQUFj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